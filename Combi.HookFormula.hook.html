<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>Combi.HookFormula.hook: A proof of the Hook-Lenght formula</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Combi.HookFormula.hook: A proof of the Hook-Lenght formula</h1>

<div class="code">
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="ALEA.Misc.html#"><span class="id" type="library">Misc</span></a> <a class="idref" href="ALEA.Ccpo.html#"><span class="id" type="library">Ccpo</span></a> <a class="idref" href="Combi.HookFormula.Qmeasure.html#"><span class="id" type="library">Qmeasure</span></a>.<br/>

<br/>
<span class="id" type="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="library">ssreflect</span> <span class="id" type="library">ssrfun</span> <span class="id" type="library">ssrbool</span> <span class="id" type="library">eqtype</span> <span class="id" type="library">choice</span> <span class="id" type="library">ssrnat</span> <span class="id" type="library">seq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="library">ssrint</span> <span class="id" type="library">div</span> <span class="id" type="library">rat</span> <span class="id" type="library">fintype</span> <span class="id" type="library">bigop</span> <span class="id" type="library">path</span> <span class="id" type="library">ssralg</span> <span class="id" type="library">ssrnum</span>.<br/>

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Combi.SSRcomplements.tools.html#"><span class="id" type="library">tools</span></a> <a class="idref" href="Combi.Combi.subseq.html#"><span class="id" type="library">subseq</span></a> <a class="idref" href="Combi.Combi.partition.html#"><span class="id" type="library">partition</span></a> <a class="idref" href="Combi.Combi.stdtab.html#"><span class="id" type="library">stdtab</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Combi.SSRcomplements.rat_coerce.html#"><span class="id" type="library">rat_coerce</span></a> <a class="idref" href="Combi.HookFormula.Qmeasure.html#"><span class="id" type="library">Qmeasure</span></a> <a class="idref" href="Combi.SSRcomplements.bigallpairs.html#"><span class="id" type="library">bigallpairs</span></a> <a class="idref" href="Combi.HookFormula.recyama.html#"><span class="id" type="library">recyama</span></a>.<br/>

<br/>
<span class="id" type="keyword">Import</span> <span class="id" type="var">GRing.Theory</span>.<br/>
<span class="id" type="keyword">Import</span> <span class="id" type="var">Num.Theory</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="big_nat_0cond"><span class="id" type="lemma">big_nat_0cond</span></a> (<span class="id" type="var">R</span> : <span class="id" type="keyword">Type</span>) (<span class="id" type="var">idx</span> : <a class="idref" href="Combi.HookFormula.hook.html#R"><span class="id" type="variable">R</span></a>) <span class="id" type="var">op</span> <span class="id" type="var">n</span> <span class="id" type="var">f</span> :<br/>
&nbsp;&nbsp;<span class="id" type="notation">\</span><span class="id" type="notation">big</span><span class="id" type="notation">[</span><a class="idref" href="Combi.HookFormula.hook.html#op"><span class="id" type="variable">op</span></a><span class="id" type="notation">/</span><a class="idref" href="Combi.HookFormula.hook.html#idx"><span class="id" type="variable">idx</span></a><span class="id" type="notation">]</span><span class="id" type="notation">_</span><span class="id" type="notation">(</span>0 <span class="id" type="notation">≤</span> <span class="id" type="var">i</span> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#n"><span class="id" type="variable">n</span></a><span class="id" type="notation">)</span> <a class="idref" href="Combi.HookFormula.hook.html#f"><span class="id" type="variable">f</span></a> <span class="id" type="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="notation">\</span><span class="id" type="notation">big</span><span class="id" type="notation">[</span><a class="idref" href="Combi.HookFormula.hook.html#op"><span class="id" type="variable">op</span></a><span class="id" type="notation">/</span><a class="idref" href="Combi.HookFormula.hook.html#idx"><span class="id" type="variable">idx</span></a><span class="id" type="notation">]</span><span class="id" type="notation">_</span><span class="id" type="notation">(</span>0 <span class="id" type="notation">≤</span> <span class="id" type="var">i</span> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#n"><span class="id" type="variable">n</span></a> <span class="id" type="notation">|</span> (<span class="id" type="var">i</span> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#n"><span class="id" type="variable">n</span></a>)%<span class="id" type="var">N</span><span class="id" type="notation">)</span> <a class="idref" href="Combi.HookFormula.hook.html#f"><span class="id" type="variable">f</span></a> <span class="id" type="var">i</span>.<br/>

<br/>
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">nat_scope</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> := (<a class="idref" href="Combi.Combi.partition.html#is_rem_corner"><span class="id" type="definition">is_rem_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">==</span> <span class="id" type="notation">(</span><span class="id" type="definition">nth</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a><span class="id" type="notation">).-1</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="is_corner_box_in_part"><span class="id" type="lemma">is_corner_box_in_part</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> → <a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="is_corner_box_conj_part"><span class="id" type="lemma">is_corner_box_conj_part</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.HookFormula.hook.html#v"><span class="id" type="variable">v</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> (<a class="idref" href="Combi.Combi.partition.html#conj_part"><span class="id" type="definition">conj_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="Combi.HookFormula.hook.html#u"><span class="id" type="variable">u</span></a>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="arm_length"><span class="id" type="definition">arm_length</span></a>  <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> := <span class="id" type="notation">(</span><span class="id" type="notation">(</span><span class="id" type="definition">nth</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">-</span> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">).-1</span>.<br/>
<span class="id" type="keyword">Definition</span> <a name="leg_length"><span class="id" type="definition">leg_length</span></a>  <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> := (<a class="idref" href="Combi.HookFormula.hook.html#arm_length"><span class="id" type="definition">arm_length</span></a> (<a class="idref" href="Combi.Combi.partition.html#conj_part"><span class="id" type="definition">conj_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a>).<br/>
<span class="id" type="keyword">Definition</span> <a name="al_length"><span class="id" type="definition">al_length</span></a>   <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> := (<span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#arm_length"><span class="id" type="definition">arm_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">+</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#leg_length"><span class="id" type="definition">leg_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">)</span>).<br/>
<span class="id" type="keyword">Definition</span> <a name="hook_length"><span class="id" type="definition">hook_length</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> := <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">).+1</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="al_length_conj_part"><span class="id" type="lemma">al_length_conj_part</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> (<a class="idref" href="Combi.Combi.partition.html#conj_part"><span class="id" type="definition">conj_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="arm_length_ler"><span class="id" type="lemma">arm_length_ler</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> <span class="id" type="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> → <a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#arm_length"><span class="id" type="definition">arm_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.HookFormula.hook.html#arm_length"><span class="id" type="definition">arm_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="arm_length_ltl"><span class="id" type="lemma">arm_length_ltl</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> <span class="id" type="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> → <a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#arm_length"><span class="id" type="definition">arm_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#arm_length"><span class="id" type="definition">arm_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="leg_length_ltr"><span class="id" type="lemma">leg_length_ltr</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> <span class="id" type="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> → <a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#leg_length"><span class="id" type="definition">leg_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#leg_length"><span class="id" type="definition">leg_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="leg_length_lel"><span class="id" type="lemma">leg_length_lel</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> <span class="id" type="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> → <a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#leg_length"><span class="id" type="definition">leg_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.HookFormula.hook.html#leg_length"><span class="id" type="definition">leg_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="al_length_ltl"><span class="id" type="lemma">al_length_ltl</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> <span class="id" type="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> → <a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="al_length_ltr"><span class="id" type="lemma">al_length_ltr</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> <span class="id" type="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> → <a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="al_length0_corner"><span class="id" type="lemma">al_length0_corner</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0 → <a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="corner_arm_length0"><span class="id" type="lemma">corner_arm_length0</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#arm_length"><span class="id" type="definition">arm_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="corner_leg_length0"><span class="id" type="lemma">corner_leg_length0</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#leg_length"><span class="id" type="definition">leg_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="corner_al_length0"><span class="id" type="lemma">corner_al_length0</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="arm_length_corner_box"><span class="id" type="lemma">arm_length_corner_box</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.HookFormula.hook.html#u"><span class="id" type="variable">u</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.HookFormula.hook.html#v"><span class="id" type="variable">v</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.HookFormula.hook.html#v"><span class="id" type="variable">v</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#arm_length"><span class="id" type="definition">arm_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.hook.html#arm_length"><span class="id" type="definition">arm_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">+</span> <a class="idref" href="Combi.HookFormula.hook.html#arm_length"><span class="id" type="definition">arm_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#v"><span class="id" type="variable">v</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="leg_length_corner_box"><span class="id" type="lemma">leg_length_corner_box</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.HookFormula.hook.html#u"><span class="id" type="variable">u</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.HookFormula.hook.html#v"><span class="id" type="variable">v</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.HookFormula.hook.html#v"><span class="id" type="variable">v</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#leg_length"><span class="id" type="definition">leg_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.hook.html#leg_length"><span class="id" type="definition">leg_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">+</span> <a class="idref" href="Combi.HookFormula.hook.html#leg_length"><span class="id" type="definition">leg_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#v"><span class="id" type="variable">v</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="al_length_corner_box"><span class="id" type="lemma">al_length_corner_box</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.HookFormula.hook.html#u"><span class="id" type="variable">u</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.HookFormula.hook.html#v"><span class="id" type="variable">v</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.HookFormula.hook.html#v"><span class="id" type="variable">v</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">+</span> <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#v"><span class="id" type="variable">v</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="arm_length_incr_nth_row"><span class="id" type="lemma">arm_length_incr_nth_row</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#arm_length"><span class="id" type="definition">arm_length</span></a> (<span class="id" type="definition">incr_nth</span> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#arm_length"><span class="id" type="definition">arm_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">).+1</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="arm_length_incr_nth_nrow"><span class="id" type="lemma">arm_length_incr_nth_nrow</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> <span class="id" type="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a> <span class="id" type="notation">!=</span> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#arm_length"><span class="id" type="definition">arm_length</span></a> (<span class="id" type="definition">incr_nth</span> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#arm_length"><span class="id" type="definition">arm_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="al_length_incr_nth_row"><span class="id" type="lemma">al_length_incr_nth_row</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.Combi.partition.html#is_add_corner"><span class="id" type="definition">is_add_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> (<span class="id" type="definition">incr_nth</span> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">).+1</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="al_length_incr_nth_col"><span class="id" type="lemma">al_length_incr_nth_col</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">r</span> <span class="id" type="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.Combi.partition.html#is_add_corner"><span class="id" type="definition">is_add_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a> (<span class="id" type="definition">nth</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a>) →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> (<span class="id" type="definition">incr_nth</span> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a> (<span class="id" type="definition">nth</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a> (<span class="id" type="definition">nth</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a>)<span class="id" type="notation">).+1</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="al_length_incr_nth"><span class="id" type="lemma">al_length_incr_nth</span></a> <span class="id" type="var">sh</span> <span class="id" type="var">i</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> → <a class="idref" href="Combi.Combi.partition.html#is_add_corner"><span class="id" type="definition">is_add_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a> <span class="id" type="notation">!=</span> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> → <span class="id" type="definition">nth</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a> <span class="id" type="notation">!=</span> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> (<span class="id" type="definition">incr_nth</span> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>.<br/>

<br/>
<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">ring_scope</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="prod_al_length_quot_row"><span class="id" type="lemma">prod_al_length_quot_row</span></a> <span class="id" type="var">p</span> <span class="id" type="var">Alpha</span> <span class="id" type="var">Beta</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Alpha"><span class="id" type="variable">Alpha</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Beta"><span class="id" type="variable">Beta</span></a> →<br/>
&nbsp;&nbsp;<span class="id" type="notation">\</span><span class="id" type="notation">prod_</span><span class="id" type="notation">(</span><span class="id" type="var">i</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.Combi.partition.html#enum_box_in"><span class="id" type="definition">enum_box_in</span></a> (<a class="idref" href="Combi.Combi.partition.html#decr_nth"><span class="id" type="definition">decr_nth</span></a> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Alpha"><span class="id" type="variable">Alpha</span></a>) <span class="id" type="notation">|</span> <span class="id" type="var">i</span><span class="id" type="notation">.1</span> <span class="id" type="notation">==</span> <a class="idref" href="Combi.HookFormula.hook.html#Alpha"><span class="id" type="variable">Alpha</span></a><span class="id" type="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="notation">(</span><span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a> <span class="id" type="var">i</span><span class="id" type="notation">.1</span> <span class="id" type="var">i</span><span class="id" type="notation">.2</span><span class="id" type="notation">).+1</span><span class="id" type="notation">%:</span><span class="id" type="notation">Q</span> <span class="id" type="notation">/</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> (<a class="idref" href="Combi.Combi.partition.html#decr_nth"><span class="id" type="definition">decr_nth</span></a> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Alpha"><span class="id" type="variable">Alpha</span></a>) <span class="id" type="var">i</span><span class="id" type="notation">.1</span> <span class="id" type="var">i</span><span class="id" type="notation">.2</span><span class="id" type="notation">).+1</span><span class="id" type="notation">%:</span><span class="id" type="notation">Q</span><span class="id" type="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" type="notation">\</span><span class="id" type="notation">prod_</span><span class="id" type="notation">(</span>0 <span class="id" type="notation">≤</span> <span class="id" type="var">j</span> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#Beta"><span class="id" type="variable">Beta</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">(</span>1 <span class="id" type="notation">+</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Alpha"><span class="id" type="variable">Alpha</span></a> <span class="id" type="var">j</span><span class="id" type="notation">)%:</span><span class="id" type="notation">Q</span><span class="id" type="notation">^-1</span><span class="id" type="notation">)</span>.<br/>

<br/>
<span class="id" type="keyword">Close</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">ring_scope</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="FindCorner"><span class="id" type="section">FindCorner</span></a>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="FindCorner.p"><span class="id" type="variable">p</span></a> : <a class="idref" href="Combi.Combi.partition.html#intpart"><span class="id" type="record">intpart</span></a>.<br/>

<br/>
<span class="id" type="keyword">Fact</span> <a name="is_part_p"><span class="id" type="lemma">is_part_p</span></a> : <a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a>.  <br/>
<span class="id" type="keyword">Hint Resolve</span> <a class="idref" href="Combi.HookFormula.hook.html#is_part_p"><span class="id" type="lemma">is_part_p</span></a>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Notation</span> <a name="conj"><span class="id" type="abbreviation">conj</span></a> := (<a class="idref" href="Combi.Combi.partition.html#conj_part"><span class="id" type="definition">conj_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="is_in_hook"><span class="id" type="definition">is_in_hook</span></a> (<span class="id" type="var">r</span> <span class="id" type="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">k</span> <span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <span class="id" type="notation">==</span> <a class="idref" href="Combi.HookFormula.hook.html#k"><span class="id" type="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="notation">&lt;</span> <span class="id" type="definition">nth</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'||'_x"><span class="id" type="notation">||</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">==</span> <a class="idref" href="Combi.HookFormula.hook.html#l"><span class="id" type="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#k"><span class="id" type="variable">k</span></a> <span class="id" type="notation">&lt;</span> <span class="id" type="definition">nth</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#conj"><span class="id" type="abbreviation">conj</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'||'_x"><span class="id" type="notation">)</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="is_in_hook_shape"><span class="id" type="lemma">is_in_hook_shape</span></a> (<span class="id" type="var">r</span> <span class="id" type="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">k</span> <span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#is_in_hook"><span class="id" type="definition">is_in_hook</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="Combi.HookFormula.hook.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="Combi.HookFormula.hook.html#l"><span class="id" type="variable">l</span></a> → <a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="Combi.HookFormula.hook.html#l"><span class="id" type="variable">l</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="hook_next_seq"><span class="id" type="definition">hook_next_seq</span></a> <span class="id" type="var">r</span> <span class="id" type="var">c</span> : <span class="id" type="abbreviation">seq</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'+'_x"><span class="id" type="notation">+</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="notation">[</span><span class="id" type="notation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#inl"><span class="id" type="constructor">inl</span></a> <span class="id" type="var">k</span> <span class="id" type="notation">|</span> <span class="id" type="var">k</span> <span class="id" type="notation">&lt;-</span> <span class="id" type="keyword">iota</span> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a><span class="id" type="notation">.+1</span> (<span class="id" type="notation">(</span><span class="id" type="definition">nth</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#conj"><span class="id" type="abbreviation">conj</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">).-1</span> <span class="id" type="notation">-</span> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a>)<span class="id" type="notation">]</span> <span class="id" type="notation">++</span><br/>
&nbsp;&nbsp;<span class="id" type="notation">[</span><span class="id" type="notation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#inr"><span class="id" type="constructor">inr</span></a> <span class="id" type="var">k</span> <span class="id" type="notation">|</span> <span class="id" type="var">k</span> <span class="id" type="notation">&lt;-</span> <span class="id" type="keyword">iota</span> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">.+1</span> (<span class="id" type="notation">(</span><span class="id" type="definition">nth</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a><span class="id" type="notation">).-1</span> <span class="id" type="notation">-</span> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>)<span class="id" type="notation">]</span>.<br/>
<span class="id" type="keyword">Definition</span> <a name="hook_next"><span class="id" type="definition">hook_next</span></a> <span class="id" type="var">r</span> <span class="id" type="var">c</span> <span class="id" type="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Combi.HookFormula.hook.html#n"><span class="id" type="variable">n</span></a> <span class="id" type="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#inl"><span class="id" type="constructor">inl</span></a> <span class="id" type="var">k</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#inr"><span class="id" type="constructor">inr</span></a> <span class="id" type="var">k</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><span class="id" type="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">end</span>.<br/>
<span class="id" type="keyword">Definition</span> <a name="hook_seq"><span class="id" type="definition">hook_seq</span></a> <span class="id" type="var">r</span> <span class="id" type="var">c</span> := <span class="id" type="notation">[</span><span class="id" type="notation">seq</span> <a class="idref" href="Combi.HookFormula.hook.html#hook_next"><span class="id" type="definition">hook_next</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="var">n</span> <span class="id" type="notation">|</span> <span class="id" type="var">n</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.HookFormula.hook.html#hook_next_seq"><span class="id" type="definition">hook_next_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">]</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="size_hook_next_seq"><span class="id" type="lemma">size_hook_next_seq</span></a> <span class="id" type="var">r</span> <span class="id" type="var">c</span> : <span class="id" type="definition">size</span> (<a class="idref" href="Combi.HookFormula.hook.html#hook_next_seq"><span class="id" type="definition">hook_next_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="size_hook_seq"><span class="id" type="lemma">size_hook_seq</span></a> <span class="id" type="var">r</span> <span class="id" type="var">c</span> : <span class="id" type="definition">size</span> (<a class="idref" href="Combi.HookFormula.hook.html#hook_seq"><span class="id" type="definition">hook_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="ltnPred"><span class="id" type="lemma">ltnPred</span></a> <span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> → (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a><span class="id" type="notation">.-1</span>).<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="iota_hookE"><span class="id" type="lemma">iota_hookE</span></a> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span> : <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a><span class="id" type="notation">.+1</span> <span class="id" type="notation">+</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">.-1</span> <span class="id" type="notation">-</span> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a><span class="id" type="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="in_hook_seqP"><span class="id" type="lemma">in_hook_seqP</span></a> (<span class="id" type="var">r</span> <span class="id" type="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">k</span> <span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#k"><span class="id" type="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><a class="idref" href="Combi.HookFormula.hook.html#l"><span class="id" type="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#hook_seq"><span class="id" type="definition">hook_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.hook.html#is_in_hook"><span class="id" type="definition">is_in_hook</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="Combi.HookFormula.hook.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="Combi.HookFormula.hook.html#l"><span class="id" type="variable">l</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="hook_seq_empty"><span class="id" type="lemma">hook_seq_empty</span></a> (<span class="id" type="var">r</span> <span class="id" type="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#hook_seq"><span class="id" type="definition">hook_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="notation">[::]</span> → <a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="is_trace"><span class="id" type="definition">is_trace</span></a> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="notation">[&amp;&amp;</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <span class="id" type="notation">!=</span> <span class="id" type="notation">[::]</span><span class="id" type="notation">),</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> <span class="id" type="notation">!=</span> <span class="id" type="notation">[::]</span><span class="id" type="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="definition">sorted</span> <span class="id" type="definition">ltn</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a><span class="id" type="notation">,</span> <span class="id" type="definition">sorted</span> <span class="id" type="definition">ltn</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> <span class="id" type="notation">&amp;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> (<span class="id" type="definition">last</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) (<span class="id" type="definition">last</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) <span class="id" type="notation">]</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="is_trace_tll"><span class="id" type="lemma">is_trace_tll</span></a> (<span class="id" type="var">a</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <span class="id" type="notation">!=</span> <span class="id" type="notation">[::]</span> → <a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a><span class="id" type="notation">::</span><a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="is_trace_tlr"><span class="id" type="lemma">is_trace_tlr</span></a> (<span class="id" type="var">b</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> <span class="id" type="notation">!=</span> <span class="id" type="notation">[::]</span> → <a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a><span class="id" type="notation">::</span><a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) → <a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="is_trace_lastr"><span class="id" type="lemma">is_trace_lastr</span></a> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) → <a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) <span class="id" type="notation">[::</span> <span class="id" type="definition">last</span> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a><span class="id" type="notation">]</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="is_trace_lastl"><span class="id" type="lemma">is_trace_lastl</span></a> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) → <a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> <span class="id" type="notation">[::</span> <span class="id" type="definition">last</span> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a><span class="id" type="notation">]</span> (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="sorted_in_leq_last"><span class="id" type="lemma">sorted_in_leq_last</span></a> <span class="id" type="var">A</span> <span class="id" type="var">a</span> : <span class="id" type="definition">sorted</span> <span class="id" type="definition">ltn</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">≤</span> <span class="id" type="definition">last</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="sorted_leq_last"><span class="id" type="lemma">sorted_leq_last</span></a> <span class="id" type="var">A</span> <span class="id" type="var">a</span> : <span class="id" type="definition">sorted</span> <span class="id" type="definition">ltn</span> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) → <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">≤</span> <span class="id" type="definition">last</span> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="is_trace_in_in_shape"><span class="id" type="lemma">is_trace_in_in_shape</span></a> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> →<br/>
&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>, <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> → <a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="is_trace_in_shape"><span class="id" type="lemma">is_trace_in_shape</span></a> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) → <a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="trace_size_arm_length"><span class="id" type="lemma">trace_size_arm_length</span></a> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) → <span class="id" type="definition">size</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.HookFormula.hook.html#arm_length"><span class="id" type="definition">arm_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="trace_size_leg_length"><span class="id" type="lemma">trace_size_leg_length</span></a> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) → <span class="id" type="definition">size</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.HookFormula.hook.html#leg_length"><span class="id" type="definition">leg_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="size_tracer"><span class="id" type="lemma">size_tracer</span></a> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) → <span class="id" type="definition">size</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="size_tracel"><span class="id" type="lemma">size_tracel</span></a> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) → <span class="id" type="definition">size</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="is_trace_corner_nil"><span class="id" type="lemma">is_trace_corner_nil</span></a> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) →<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><span class="id" type="definition">size</span> (<a class="idref" href="Combi.HookFormula.hook.html#hook_next_seq"><span class="id" type="definition">hook_next_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a>) <span class="id" type="notation">==</span> 0<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <span class="id" type="notation">==</span> <span class="id" type="notation">[::]</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> <span class="id" type="notation">==</span> <span class="id" type="notation">[::]</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="al_length_last_rectangle"><span class="id" type="lemma">al_length_last_rectangle</span></a> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> (<span class="id" type="definition">last</span> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">+</span> <a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> (<span class="id" type="definition">last</span> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="trace_seq"><span class="id" type="definition">trace_seq</span></a> (<span class="id" type="var">last</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <span class="id" type="abbreviation">seq</span> (<span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="notation">[</span><span class="id" type="notation">seq</span> <span class="id" type="definition">rcons</span> <span class="id" type="var">tr</span> <a class="idref" href="Combi.HookFormula.hook.html#last"><span class="id" type="variable">last</span></a> <span class="id" type="notation">|</span> <span class="id" type="var">tr</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.Combi.subseq.html#enum_subseqs"><span class="id" type="definition">enum_subseqs</span></a> (<span class="id" type="keyword">iota</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#last"><span class="id" type="variable">last</span></a>)<span class="id" type="notation">]</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="enum_trace"><span class="id" type="definition">enum_trace</span></a> (<span class="id" type="var">Alpha</span> <span class="id" type="var">Beta</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <span class="id" type="abbreviation">seq</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">(</span></a><span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">(</span></a><span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">)</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="notation">[</span><span class="id" type="notation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">B</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <span class="id" type="notation">|</span> <span class="id" type="var">A</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.HookFormula.hook.html#trace_seq"><span class="id" type="definition">trace_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Alpha"><span class="id" type="variable">Alpha</span></a><span class="id" type="notation">,</span> <span class="id" type="var">B</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.HookFormula.hook.html#trace_seq"><span class="id" type="definition">trace_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Beta"><span class="id" type="variable">Beta</span></a><span class="id" type="notation">]</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="trace_seq_uniq"><span class="id" type="lemma">trace_seq_uniq</span></a> <span class="id" type="var">l</span> : <span class="id" type="definition">uniq</span> (<a class="idref" href="Combi.HookFormula.hook.html#trace_seq"><span class="id" type="definition">trace_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#l"><span class="id" type="variable">l</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="enum_trace_uniq"><span class="id" type="lemma">enum_trace_uniq</span></a> (<span class="id" type="var">Alpha</span> <span class="id" type="var">Beta</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <span class="id" type="definition">uniq</span> (<a class="idref" href="Combi.HookFormula.hook.html#enum_trace"><span class="id" type="definition">enum_trace</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Alpha"><span class="id" type="variable">Alpha</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Beta"><span class="id" type="variable">Beta</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="trace_corner_box"><span class="id" type="lemma">trace_corner_box</span></a> (<span class="id" type="var">Alpha</span> <span class="id" type="var">Beta</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Alpha"><span class="id" type="variable">Alpha</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Beta"><span class="id" type="variable">Beta</span></a> →<br/>
&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>, <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.HookFormula.hook.html#trace_seq"><span class="id" type="definition">trace_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Alpha"><span class="id" type="variable">Alpha</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.HookFormula.hook.html#trace_seq"><span class="id" type="definition">trace_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Beta"><span class="id" type="variable">Beta</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="trace_seqlP"><span class="id" type="lemma">trace_seqlP</span></a> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.HookFormula.hook.html#trace_seq"><span class="id" type="definition">trace_seq</span></a> (<span class="id" type="definition">last</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="trace_seqrP"><span class="id" type="lemma">trace_seqrP</span></a> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.HookFormula.hook.html#trace_seq"><span class="id" type="definition">trace_seq</span></a> (<span class="id" type="definition">last</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="enum_traceP"><span class="id" type="lemma">enum_traceP</span></a> (<span class="id" type="var">Alpha</span> <span class="id" type="var">Beta</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Alpha"><span class="id" type="variable">Alpha</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Beta"><span class="id" type="variable">Beta</span></a> →<br/>
&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.HookFormula.hook.html#enum_trace"><span class="id" type="definition">enum_trace</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Alpha"><span class="id" type="variable">Alpha</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Beta"><span class="id" type="variable">Beta</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="notation">[&amp;&amp;</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a><span class="id" type="notation">),</span> <span class="id" type="notation">(</span><span class="id" type="definition">last</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <span class="id" type="notation">==</span> <a class="idref" href="Combi.HookFormula.hook.html#Alpha"><span class="id" type="variable">Alpha</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">&amp;</span> <span class="id" type="notation">(</span><span class="id" type="definition">last</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> <span class="id" type="notation">==</span> <a class="idref" href="Combi.HookFormula.hook.html#Beta"><span class="id" type="variable">Beta</span></a><span class="id" type="notation">)]</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> (<span class="id" type="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">i</span> <span class="id" type="var">j</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="Combi.HookFormula.Qmeasure.html#distr"><span class="id" type="record">distr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">(</span></a><span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">(</span></a><span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">)</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> <a class="idref" href="Combi.HookFormula.hook.html#m"><span class="id" type="variable">m</span></a> <span class="id" type="var">is</span> <span class="id" type="var">m'</span><span class="id" type="notation">.+1</span> <span class="id" type="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">s</span> := <a class="idref" href="Combi.HookFormula.hook.html#hook_next_seq"><span class="id" type="definition">hook_next_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">if</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.HookFormula.hook.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">is</span> <span class="id" type="var">_</span><span class="id" type="notation">.+1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">then</span> <a class="idref" href="Combi.HookFormula.Qmeasure.html#Mlet"><span class="id" type="definition">Mlet</span></a> (<a class="idref" href="Combi.HookFormula.Qmeasure.html#Uniform"><span class="id" type="definition">Uniform</span></a> (<a class="idref" href="Combi.HookFormula.Qmeasure.html#unif_def"><span class="id" type="definition">unif_def</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#inl"><span class="id" type="constructor">inl</span></a> (0 <span class="id" type="notation">:</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)) <a class="idref" href="Combi.HookFormula.hook.html#s"><span class="id" type="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> ⇒ <span class="id" type="keyword">match</span> <a class="idref" href="Combi.HookFormula.hook.html#n"><span class="id" type="variable">n</span></a> <span class="id" type="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#inl"><span class="id" type="constructor">inl</span></a> <span class="id" type="var">k</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.Qmeasure.html#Mlet"><span class="id" type="definition">Mlet</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> <span class="id" type="var">m'</span> <span class="id" type="var">k</span> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> ⇒ <a class="idref" href="Combi.HookFormula.Qmeasure.html#Munit"><span class="id" type="definition">Munit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a><span class="id" type="notation">::</span><a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.1</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.2</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#inr"><span class="id" type="constructor">inr</span></a> <span class="id" type="var">k</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.Qmeasure.html#Mlet"><span class="id" type="definition">Mlet</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> <span class="id" type="var">m'</span> <a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a> <span class="id" type="var">k</span>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> ⇒ <a class="idref" href="Combi.HookFormula.Qmeasure.html#Munit"><span class="id" type="definition">Munit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.1</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a><span class="id" type="notation">::</span><a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.2</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <a class="idref" href="Combi.HookFormula.Qmeasure.html#Munit"><span class="id" type="definition">Munit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="notation">[::</span><a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a><span class="id" type="notation">]</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><span class="id" type="notation">[::</span><a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a><span class="id" type="notation">]</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <a class="idref" href="Combi.HookFormula.Qmeasure.html#Munit"><span class="id" type="definition">Munit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="notation">[::</span><a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a><span class="id" type="notation">]</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><span class="id" type="notation">[::</span><a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a><span class="id" type="notation">]</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="walk_to_corner0_simpl"><span class="id" type="lemma">walk_to_corner0_simpl</span></a> <span class="id" type="var">r</span> <span class="id" type="var">c</span> : <a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> 0 <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.Qmeasure.html#Munit"><span class="id" type="definition">Munit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="notation">[::</span> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a><span class="id" type="notation">]</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><span class="id" type="notation">[::</span> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">]</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="walk_to_corner_end_simpl"><span class="id" type="lemma">walk_to_corner_end_simpl</span></a> <span class="id" type="var">m</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> :<br/>
&nbsp;&nbsp;(<span class="id" type="definition">size</span> (<a class="idref" href="Combi.HookFormula.hook.html#hook_next_seq"><span class="id" type="definition">hook_next_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0) → <a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.Qmeasure.html#Munit"><span class="id" type="definition">Munit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="notation">[::</span> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a><span class="id" type="notation">]</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><span class="id" type="notation">[::</span> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">]</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="walk_to_corner_rec_simpl"><span class="id" type="lemma">walk_to_corner_rec_simpl</span></a> <span class="id" type="var">m</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">∀</span> (<span class="id" type="var">Hs</span> : (<span class="id" type="definition">size</span> (<a class="idref" href="Combi.HookFormula.hook.html#hook_next_seq"><span class="id" type="definition">hook_next_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>) <span class="id" type="notation">!=</span> 0)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#m"><span class="id" type="variable">m</span></a><span class="id" type="notation">.+1</span>) <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.Qmeasure.html#Mlet"><span class="id" type="definition">Mlet</span></a> (<a class="idref" href="Combi.HookFormula.Qmeasure.html#Uniform"><span class="id" type="definition">Uniform</span></a> (<a class="idref" href="Combi.HookFormula.Qmeasure.html#mkunif"><span class="id" type="constructor">mkunif</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#hook_next_seq"><span class="id" type="definition">hook_next_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#Hs"><span class="id" type="variable">Hs</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> ⇒ <span class="id" type="keyword">match</span> <a class="idref" href="Combi.HookFormula.hook.html#n"><span class="id" type="variable">n</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#inl"><span class="id" type="constructor">inl</span></a> <span class="id" type="var">k</span> ⇒ <a class="idref" href="Combi.HookFormula.Qmeasure.html#Mlet"><span class="id" type="definition">Mlet</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#m"><span class="id" type="variable">m</span></a> <span class="id" type="var">k</span> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> ⇒ <a class="idref" href="Combi.HookFormula.Qmeasure.html#Munit"><span class="id" type="definition">Munit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a><span class="id" type="notation">::</span><a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.1</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.2</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#inr"><span class="id" type="constructor">inr</span></a> <span class="id" type="var">k</span> ⇒ <a class="idref" href="Combi.HookFormula.Qmeasure.html#Mlet"><span class="id" type="definition">Mlet</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <span class="id" type="var">k</span>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> ⇒ <a class="idref" href="Combi.HookFormula.Qmeasure.html#Munit"><span class="id" type="definition">Munit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.1</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">::</span><a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.2</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>).<br/>
 
<br/>
<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">ring_scope</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="walk_to_corner_inv"><span class="id" type="lemma">walk_to_corner_inv</span></a> <span class="id" type="var">m</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.Qmeasure.html#mu"><span class="id" type="projection">mu</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">HS</span> ⇒ <span class="id" type="notation">[&amp;&amp;</span> <span class="id" type="notation">(</span><span class="id" type="definition">size</span>   <a class="idref" href="Combi.HookFormula.hook.html#HS"><span class="id" type="variable">HS</span></a><span class="id" type="notation">.1</span> <span class="id" type="notation">!=</span> 0<span class="id" type="notation">),</span> <span class="id" type="notation">(</span><span class="id" type="definition">size</span>   <a class="idref" href="Combi.HookFormula.hook.html#HS"><span class="id" type="variable">HS</span></a><span class="id" type="notation">.2</span> <span class="id" type="notation">!=</span> 0<span class="id" type="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="notation">(</span><span class="id" type="definition">head</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#HS"><span class="id" type="variable">HS</span></a><span class="id" type="notation">.1</span> <span class="id" type="notation">==</span> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a><span class="id" type="notation">)&amp;</span> <span class="id" type="notation">(</span><span class="id" type="definition">head</span> 0 <a class="idref" href="Combi.HookFormula.hook.html#HS"><span class="id" type="variable">HS</span></a><span class="id" type="notation">.2</span> <span class="id" type="notation">==</span> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">)]</span>%<span class="id" type="var">N</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 1.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="charfun"><span class="id" type="definition">charfun</span></a> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) := (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">×</span></a> <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> ⇒ <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="notation">==</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><span class="id" type="notation">)%:</span><span class="id" type="notation">Q</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="walk_to_corner_emptyl"><span class="id" type="lemma">walk_to_corner_emptyl</span></a> <span class="id" type="var">m</span> <span class="id" type="var">r</span> <span class="id" type="var">c</span> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <span class="id" type="notation">==</span> <span class="id" type="notation">[::]</span>)%<span class="id" type="var">B</span> → <a class="idref" href="Combi.HookFormula.Qmeasure.html#mu"><span class="id" type="projection">mu</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#charfun"><span class="id" type="definition">charfun</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="walk_to_corner_emptyr"><span class="id" type="lemma">walk_to_corner_emptyr</span></a> <span class="id" type="var">m</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> <span class="id" type="notation">==</span> <span class="id" type="notation">[::]</span>)%<span class="id" type="var">B</span> → <a class="idref" href="Combi.HookFormula.Qmeasure.html#mu"><span class="id" type="projection">mu</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a> <a class="idref" href="Combi.HookFormula.hook.html#j"><span class="id" type="variable">j</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#charfun"><span class="id" type="definition">charfun</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="charfun_simpll"><span class="id" type="lemma">charfun_simpll</span></a> <span class="id" type="var">a</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="ALEA.Ccpo.html#:type_scope:x_'=='_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> ⇒ <a class="idref" href="Combi.HookFormula.hook.html#charfun"><span class="id" type="definition">charfun</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#x"><span class="id" type="variable">x</span></a><span class="id" type="notation">.1</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Combi.HookFormula.hook.html#x"><span class="id" type="variable">x</span></a><span class="id" type="notation">.2</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="ALEA.Ccpo.html#:type_scope:x_'=='_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ALEA.Ccpo.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="Combi.HookFormula.hook.html#charfun"><span class="id" type="definition">charfun</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="charfun_simplr"><span class="id" type="lemma">charfun_simplr</span></a> <span class="id" type="var">b</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="ALEA.Ccpo.html#:type_scope:x_'=='_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> ⇒ <a class="idref" href="Combi.HookFormula.hook.html#charfun"><span class="id" type="definition">charfun</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.HookFormula.hook.html#x"><span class="id" type="variable">x</span></a><span class="id" type="notation">.1</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#x"><span class="id" type="variable">x</span></a><span class="id" type="notation">.2</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="ALEA.Ccpo.html#:type_scope:x_'=='_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ALEA.Ccpo.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="Combi.HookFormula.hook.html#charfun"><span class="id" type="definition">charfun</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="walk_to_corner_decomp"><span class="id" type="lemma">walk_to_corner_decomp</span></a> <span class="id" type="var">m</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;(<span class="id" type="definition">size</span> (<a class="idref" href="Combi.HookFormula.hook.html#hook_next_seq"><span class="id" type="definition">hook_next_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a>) <span class="id" type="notation">!=</span> 0)%<span class="id" type="var">N</span> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a><span class="id" type="notation">::</span><a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a><span class="id" type="notation">::</span><a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.Qmeasure.html#mu"><span class="id" type="projection">mu</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#m"><span class="id" type="variable">m</span></a><span class="id" type="notation">.+1</span> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#charfun"><span class="id" type="definition">charfun</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>))<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" type="notation">(</span> <a class="idref" href="Combi.HookFormula.Qmeasure.html#mu"><span class="id" type="projection">mu</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#m"><span class="id" type="variable">m</span></a>  <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> (<span class="id" type="definition">head</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>)) (<a class="idref" href="Combi.HookFormula.hook.html#charfun"><span class="id" type="definition">charfun</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) <span class="id" type="notation">+</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.Qmeasure.html#mu"><span class="id" type="projection">mu</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#m"><span class="id" type="variable">m</span></a>  (<span class="id" type="definition">head</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#charfun"><span class="id" type="definition">charfun</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>))<br/>
&nbsp;&nbsp;<span class="id" type="notation">)</span> <span class="id" type="notation">/</span> <span class="id" type="notation">(</span><span class="id" type="definition">size</span> (<a class="idref" href="Combi.HookFormula.hook.html#hook_next_seq"><span class="id" type="definition">hook_next_seq</span></a> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a>)<span class="id" type="notation">)%:</span><span class="id" type="notation">Q</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="mu_walk_to_corner_is_trace"><span class="id" type="lemma">mu_walk_to_corner_is_trace</span></a> <span class="id" type="var">r</span> <span class="id" type="var">c</span> <span class="id" type="var">m</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.partition.html#is_in_shape"><span class="id" type="definition">is_in_shape</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> →<br/>
&nbsp;&nbsp;(<span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.HookFormula.hook.html#m"><span class="id" type="variable">m</span></a>)%<span class="id" type="var">N</span> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.Qmeasure.html#mu"><span class="id" type="projection">mu</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> ⇒ <a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> <a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.1</span> <a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.2</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 1.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="PI"><span class="id" type="definition">PI</span></a> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <span class="id" type="record">rat</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="notation">\</span><span class="id" type="notation">prod_</span><span class="id" type="notation">(</span><span class="id" type="var">i</span> <span class="id" type="notation">&lt;-</span> <span class="id" type="definition">belast</span> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">(</span>1 <span class="id" type="notation">/</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <span class="id" type="var">i</span> (<span class="id" type="definition">last</span> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>))<span class="id" type="notation">)%:</span><span class="id" type="notation">Q</span><span class="id" type="notation">)</span> <span class="id" type="notation">×</span><br/>
&nbsp;&nbsp;<span class="id" type="notation">\</span><span class="id" type="notation">prod_</span><span class="id" type="notation">(</span><span class="id" type="var">j</span> <span class="id" type="notation">&lt;-</span> <span class="id" type="definition">belast</span> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">(</span>1 <span class="id" type="notation">/</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> (<span class="id" type="definition">last</span> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>)) <span class="id" type="var">j</span><span class="id" type="notation">)%:</span><span class="id" type="notation">Q</span><span class="id" type="notation">)</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="PIprog"><span class="id" type="lemma">PIprog</span></a> <span class="id" type="var">m</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;(<span class="id" type="definition">size</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <span class="id" type="notation">+</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.HookFormula.hook.html#m"><span class="id" type="variable">m</span></a>)%<span class="id" type="var">N</span> → <a class="idref" href="Combi.HookFormula.hook.html#is_trace"><span class="id" type="definition">is_trace</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>) →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.Qmeasure.html#mu"><span class="id" type="projection">mu</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#charfun"><span class="id" type="definition">charfun</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a>) (<a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.hook.html#PI"><span class="id" type="definition">PI</span></a> <a class="idref" href="Combi.HookFormula.hook.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.HookFormula.hook.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="Combi.HookFormula.hook.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Combi.HookFormula.hook.html#B"><span class="id" type="variable">B</span></a>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="choose_corner"><span class="id" type="definition">choose_corner</span></a> : <a class="idref" href="Combi.HookFormula.Qmeasure.html#distr"><span class="id" type="record">distr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">(</span></a><span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">(</span></a><span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">)</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.Qmeasure.html#Mlet"><span class="id" type="definition">Mlet</span></a> (<a class="idref" href="Combi.HookFormula.Qmeasure.html#Random"><span class="id" type="definition">Random</span></a> <span class="id" type="notation">(</span><span class="id" type="definition">sumn</span> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a><span class="id" type="notation">).-1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> ⇒ <span class="id" type="keyword">let</span> (<span class="id" type="var">r</span>, <span class="id" type="var">c</span>) := <a class="idref" href="Combi.SSRcomplements.tools.html#reshape_coord"><span class="id" type="definition">reshape_coord</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#n"><span class="id" type="variable">n</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>).<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="FindCorner.EndsAt"><span class="id" type="section">EndsAt</span></a>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> (<a name="FindCorner.EndsAt.Alpha"><span class="id" type="variable">Alpha</span></a> <a name="FindCorner.EndsAt.Beta"><span class="id" type="variable">Beta</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>).<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="FindCorner.EndsAt.Hcorn"><span class="id" type="variable">Hcorn</span></a> : <a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Alpha"><span class="id" type="variable">Alpha</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Beta"><span class="id" type="variable">Beta</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="starts_at"><span class="id" type="definition">starts_at</span></a> <span class="id" type="var">r</span> <span class="id" type="var">c</span> := (<span class="id" type="keyword">fun</span> <span class="id" type="var">R</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><span class="id" type="definition">head</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> <a class="idref" href="Combi.HookFormula.hook.html#R"><span class="id" type="variable">R</span></a><span class="id" type="notation">.1</span> <span class="id" type="notation">==</span> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><span class="id" type="definition">head</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> <a class="idref" href="Combi.HookFormula.hook.html#R"><span class="id" type="variable">R</span></a><span class="id" type="notation">.2</span> <span class="id" type="notation">==</span> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a>).<br/>
<span class="id" type="keyword">Definition</span> <a name="ends_at"><span class="id" type="definition">ends_at</span></a>   <span class="id" type="var">r</span> <span class="id" type="var">c</span> := (<span class="id" type="keyword">fun</span> <span class="id" type="var">R</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><span class="id" type="definition">last</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> <a class="idref" href="Combi.HookFormula.hook.html#R"><span class="id" type="variable">R</span></a><span class="id" type="notation">.1</span> <span class="id" type="notation">==</span> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><span class="id" type="definition">last</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> <a class="idref" href="Combi.HookFormula.hook.html#R"><span class="id" type="variable">R</span></a><span class="id" type="notation">.2</span> <span class="id" type="notation">==</span> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a>).<br/>
<span class="id" type="keyword">Definition</span> <a name="PI_trace"><span class="id" type="definition">PI_trace</span></a> <span class="id" type="var">X</span> := (<a class="idref" href="Combi.HookFormula.hook.html#PI"><span class="id" type="definition">PI</span></a> (<span class="id" type="definition">head</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> <a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.1</span>) (<span class="id" type="definition">head</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> <a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.2</span>) (<span class="id" type="definition">behead</span> <a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.1</span>) (<span class="id" type="definition">behead</span> <a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.2</span>)).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="sumnpSPE"><span class="id" type="lemma">sumnpSPE</span></a> : <span class="id" type="notation">(</span><span class="id" type="definition">sumn</span> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a><span class="id" type="notation">).-1</span><span class="id" type="notation">.+1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="definition">sumn</span> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="F_deno"><span class="id" type="definition">F_deno</span></a> (<span class="id" type="var">sh</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) := (<span class="id" type="notation">\</span><span class="id" type="notation">prod_</span><span class="id" type="notation">(</span><span class="id" type="var">b</span> <span class="id" type="notation">:</span> <a class="idref" href="Combi.Combi.partition.html#box_in"><span class="id" type="record">box_in</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a><span class="id" type="notation">)</span> <a class="idref" href="Combi.HookFormula.hook.html#hook_length"><span class="id" type="definition">hook_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a> <span class="id" type="var">b</span><span class="id" type="notation">.1</span> <span class="id" type="var">b</span><span class="id" type="notation">.2</span>)%<span class="id" type="var">N</span>.<br/>
<span class="id" type="keyword">Definition</span> <a name="HLF"><span class="id" type="definition">HLF</span></a> <span class="id" type="var">sh</span> :=  (<span class="id" type="notation">(</span><span class="id" type="notation">(</span><span class="id" type="definition">sumn</span> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a><span class="id" type="notation">)`!</span><span class="id" type="notation">)%:</span><span class="id" type="notation">Q</span> <span class="id" type="notation">/</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#F_deno"><span class="id" type="definition">F_deno</span></a> <a class="idref" href="Combi.HookFormula.hook.html#sh"><span class="id" type="variable">sh</span></a><span class="id" type="notation">)%:</span><span class="id" type="notation">Q</span>)%<span class="id" type="var">R</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="reshape_coord_walk_to"><span class="id" type="lemma">reshape_coord_walk_to</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">i</span>, (<a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a> <span class="id" type="notation">&lt;</span> <span class="id" type="definition">sumn</span> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a>)%<span class="id" type="var">N</span> →<br/>
&nbsp;&nbsp;(<a class="idref" href="Combi.HookFormula.Qmeasure.html#mu"><span class="id" type="projection">mu</span></a> (<span class="id" type="keyword">let</span> (<span class="id" type="var">r</span>, <span class="id" type="var">c</span>) := <a class="idref" href="Combi.SSRcomplements.tools.html#reshape_coord"><span class="id" type="definition">reshape_coord</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#walk_to_corner"><span class="id" type="definition">walk_to_corner</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a>)) (<a class="idref" href="Combi.HookFormula.hook.html#ends_at"><span class="id" type="definition">ends_at</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Alpha"><span class="id" type="variable">Alpha</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Beta"><span class="id" type="variable">Beta</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" type="notation">\</span><span class="id" type="notation">sum_</span><span class="id" type="notation">(</span><span class="id" type="var">X</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.HookFormula.hook.html#enum_trace"><span class="id" type="definition">enum_trace</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Alpha"><span class="id" type="variable">Alpha</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Beta"><span class="id" type="variable">Beta</span></a> <span class="id" type="notation">|</span> <span class="id" type="keyword">let</span> (<span class="id" type="var">r</span>, <span class="id" type="var">c</span>) := <a class="idref" href="Combi.SSRcomplements.tools.html#reshape_coord"><span class="id" type="definition">reshape_coord</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#i"><span class="id" type="variable">i</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="Combi.HookFormula.hook.html#starts_at"><span class="id" type="definition">starts_at</span></a> <a class="idref" href="Combi.HookFormula.hook.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.HookFormula.hook.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="var">X</span><span class="id" type="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#PI_trace"><span class="id" type="definition">PI_trace</span></a> <span class="id" type="var">X</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="prob_choose_corner_ends_at"><span class="id" type="lemma">prob_choose_corner_ends_at</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.Qmeasure.html#mu"><span class="id" type="projection">mu</span></a> <a class="idref" href="Combi.HookFormula.hook.html#choose_corner"><span class="id" type="definition">choose_corner</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#ends_at"><span class="id" type="definition">ends_at</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Alpha"><span class="id" type="variable">Alpha</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Beta"><span class="id" type="variable">Beta</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;1 <span class="id" type="notation">/</span> <span class="id" type="notation">(</span><span class="id" type="definition">sumn</span> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)%:</span><span class="id" type="notation">Q</span> <span class="id" type="notation">×</span> <span class="id" type="notation">\</span><span class="id" type="notation">sum_</span><span class="id" type="notation">(</span><span class="id" type="var">X</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.HookFormula.hook.html#enum_trace"><span class="id" type="definition">enum_trace</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Alpha"><span class="id" type="variable">Alpha</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Beta"><span class="id" type="variable">Beta</span></a><span class="id" type="notation">)</span> <a class="idref" href="Combi.HookFormula.hook.html#PI_trace"><span class="id" type="definition">PI_trace</span></a> <span class="id" type="var">X</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="FindCorner.EndsAt.Formule"><span class="id" type="section">Formule</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="FindCorner.EndsAt.Formule.T"><span class="id" type="variable">T</span></a> : <span class="id" type="abbreviation">countType</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="FindCorner.EndsAt.Formule.R"><span class="id" type="variable">R</span></a> : <span class="id" type="abbreviation">comRingType</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="FindCorner.EndsAt.Formule.alpha"><span class="id" type="variable">alpha</span></a> : <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Formule.T"><span class="id" type="variable">T</span></a> → <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Formule.R"><span class="id" type="variable">R</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="expand_prod_add1_seq"><span class="id" type="lemma">expand_prod_add1_seq</span></a> (<span class="id" type="var">S</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Formule.T"><span class="id" type="variable">T</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="notation">\</span><span class="id" type="notation">prod_</span><span class="id" type="notation">(</span><span class="id" type="var">i</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.HookFormula.hook.html#S"><span class="id" type="variable">S</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">(</span>1 <span class="id" type="notation">+</span> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Formule.alpha"><span class="id" type="variable">alpha</span></a> <span class="id" type="var">i</span><span class="id" type="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="notation">\</span><span class="id" type="notation">sum_</span><span class="id" type="notation">(</span><span class="id" type="var">s</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.Combi.subseq.html#enum_subseqs"><span class="id" type="definition">enum_subseqs</span></a> <a class="idref" href="Combi.HookFormula.hook.html#S"><span class="id" type="variable">S</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">\</span><span class="id" type="notation">prod_</span><span class="id" type="notation">(</span><span class="id" type="var">i</span> <span class="id" type="notation">&lt;-</span> <span class="id" type="var">s</span><span class="id" type="notation">)</span> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Formule.alpha"><span class="id" type="variable">alpha</span></a> <span class="id" type="var">i</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Formule"><span class="id" type="section">Formule</span></a>.<br/>

<br/>
<span class="id" type="keyword">Let</span> <a name="FindCorner.EndsAt.p'"><span class="id" type="variable">p'</span></a> := <a class="idref" href="Combi.Combi.partition.html#decr_nth"><span class="id" type="definition">decr_nth</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Alpha"><span class="id" type="variable">Alpha</span></a>.<br/>

<br/>
<span class="id" type="keyword">Fact</span> <a name="Hcrn"><span class="id" type="lemma">Hcrn</span></a> : <a class="idref" href="Combi.Combi.partition.html#is_rem_corner"><span class="id" type="definition">is_rem_corner</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Alpha"><span class="id" type="variable">Alpha</span></a>.<br/>
 <span class="id" type="keyword">Hint Resolve</span> <a class="idref" href="Combi.HookFormula.hook.html#Hcrn"><span class="id" type="lemma">Hcrn</span></a>.<br/>

<br/>
<span class="id" type="keyword">Fact</span> <a name="Hp"><span class="id" type="lemma">Hp</span></a> : <span class="id" type="definition">incr_nth</span> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.p'"><span class="id" type="variable">p'</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Alpha"><span class="id" type="variable">Alpha</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a>.  <br/>
<span class="id" type="keyword">Fact</span> <a name="Hpart'"><span class="id" type="lemma">Hpart'</span></a> : <a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.p'"><span class="id" type="variable">p'</span></a>.  <br/>
<span class="id" type="keyword">Let</span> <a name="FindCorner.EndsAt.Hpartc'"><span class="id" type="variable">Hpartc'</span></a> : <a class="idref" href="Combi.Combi.partition.html#is_part"><span class="id" type="definition">is_part</span></a> (<a class="idref" href="Combi.Combi.partition.html#conj_part"><span class="id" type="definition">conj_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.p'"><span class="id" type="variable">p'</span></a>) := <a class="idref" href="Combi.Combi.partition.html#is_part_conj"><span class="id" type="lemma">is_part_conj</span></a> <a class="idref" href="Combi.HookFormula.hook.html#Hpart'"><span class="id" type="lemma">Hpart'</span></a>.<br/>
<span class="id" type="keyword">Hint Resolve</span> <a class="idref" href="Combi.HookFormula.hook.html#Hpart'"><span class="id" type="lemma">Hpart'</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Hpartc'"><span class="id" type="variable">Hpartc'</span></a>.<br/>

<br/>
<span class="id" type="keyword">Fact</span> <a name="HBeta"><span class="id" type="lemma">HBeta</span></a> : <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Beta"><span class="id" type="variable">Beta</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="notation">(</span><span class="id" type="definition">nth</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Alpha"><span class="id" type="variable">Alpha</span></a><span class="id" type="notation">).-1</span>.<br/>
 <span class="id" type="keyword">Fact</span> <a name="HBeta'"><span class="id" type="lemma">HBeta'</span></a> : <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Beta"><span class="id" type="variable">Beta</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><span class="id" type="definition">nth</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.p'"><span class="id" type="variable">p'</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Alpha"><span class="id" type="variable">Alpha</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="Formula1"><span class="id" type="lemma">Formula1</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#F_deno"><span class="id" type="definition">F_deno</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)%:</span><span class="id" type="notation">Q</span> <span class="id" type="notation">/</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#F_deno"><span class="id" type="definition">F_deno</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.p'"><span class="id" type="variable">p'</span></a><span class="id" type="notation">)%:</span><span class="id" type="notation">Q</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" type="notation">(</span> <span class="id" type="notation">\</span><span class="id" type="notation">prod_</span><span class="id" type="notation">(</span>0 <span class="id" type="notation">≤</span> <span class="id" type="var">i</span> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Alpha"><span class="id" type="variable">Alpha</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">(</span>1 <span class="id" type="notation">+</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <span class="id" type="var">i</span> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Beta"><span class="id" type="variable">Beta</span></a> <span class="id" type="notation">)%:</span><span class="id" type="notation">Q</span><span class="id" type="notation">^-1</span><span class="id" type="notation">)</span> <span class="id" type="notation">)</span> <span class="id" type="notation">×</span><br/>
&nbsp;&nbsp;<span class="id" type="notation">(</span> <span class="id" type="notation">\</span><span class="id" type="notation">prod_</span><span class="id" type="notation">(</span>0 <span class="id" type="notation">≤</span> <span class="id" type="var">j</span> <span class="id" type="notation">&lt;</span> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Beta"><span class="id" type="variable">Beta</span></a><span class="id" type="notation">)</span>  <span class="id" type="notation">(</span>1 <span class="id" type="notation">+</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#al_length"><span class="id" type="definition">al_length</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Alpha"><span class="id" type="variable">Alpha</span></a> <span class="id" type="var">j</span><span class="id" type="notation">)%:</span><span class="id" type="notation">Q</span><span class="id" type="notation">^-1</span><span class="id" type="notation">)</span> <span class="id" type="notation">)</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="SimpleCalculation"><span class="id" type="lemma">SimpleCalculation</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="notation">\</span><span class="id" type="notation">sum_</span><span class="id" type="notation">(</span><span class="id" type="var">X</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.HookFormula.hook.html#enum_trace"><span class="id" type="definition">enum_trace</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Alpha"><span class="id" type="variable">Alpha</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Beta"><span class="id" type="variable">Beta</span></a><span class="id" type="notation">)</span> <a class="idref" href="Combi.HookFormula.hook.html#PI_trace"><span class="id" type="definition">PI_trace</span></a> <span class="id" type="var">X</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#F_deno"><span class="id" type="definition">F_deno</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)%:</span><span class="id" type="notation">Q</span> <span class="id" type="notation">/</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#F_deno"><span class="id" type="definition">F_deno</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.p'"><span class="id" type="variable">p'</span></a><span class="id" type="notation">)%:</span><span class="id" type="notation">Q</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="Theorem2"><span class="id" type="lemma">Theorem2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.Qmeasure.html#mu"><span class="id" type="projection">mu</span></a> <a class="idref" href="Combi.HookFormula.hook.html#choose_corner"><span class="id" type="definition">choose_corner</span></a> (<a class="idref" href="Combi.HookFormula.hook.html#ends_at"><span class="id" type="definition">ends_at</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Alpha"><span class="id" type="variable">Alpha</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.Beta"><span class="id" type="variable">Beta</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#HLF"><span class="id" type="definition">HLF</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt.p'"><span class="id" type="variable">p'</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">/</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#HLF"><span class="id" type="definition">HLF</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.EndsAt"><span class="id" type="section">EndsAt</span></a>.<br/>

<br/>
<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">ring_scope</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="ends_at_rem_cornerE"><span class="id" type="lemma">ends_at_rem_cornerE</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ALEA.Ccpo.html#:type_scope:x_'=='_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">×</span></a> <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="notation">\</span><span class="id" type="notation">sum_</span><span class="id" type="notation">(</span><span class="id" type="var">i0</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.Combi.partition.html#rem_corners"><span class="id" type="definition">rem_corners</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#ends_at"><span class="id" type="definition">ends_at</span></a> <span class="id" type="var">i0</span> <span class="id" type="notation">(</span><span class="id" type="definition">nth</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <span class="id" type="var">i0</span><span class="id" type="notation">).-1</span> <a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">)%:</span><span class="id" type="notation">Q</span><a class="idref" href="ALEA.Ccpo.html#:type_scope:x_'=='_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ALEA.Ccpo.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="ALEA.Ccpo.html#:type_scope:x_'=='_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> ⇒ <a class="idref" href="Combi.HookFormula.hook.html#is_corner_box"><span class="id" type="definition">is_corner_box</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> (<span class="id" type="definition">last</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> <a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.1</span>) (<span class="id" type="definition">last</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> <a class="idref" href="Combi.HookFormula.hook.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">.2</span>)<a class="idref" href="ALEA.Ccpo.html#:type_scope:x_'=='_x"><span class="id" type="notation">)</span></a>.<br/>

<br/>
<span class="id" type="keyword">Corollary</span> <a name="Corollary4"><span class="id" type="lemma">Corollary4</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <span class="id" type="notation">!=</span> <span class="id" type="notation">[::]</span> <span class="id" type="notation">:&gt;</span> <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> → <span class="id" type="notation">\</span><span class="id" type="notation">sum_</span><span class="id" type="notation">(</span><span class="id" type="var">i</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.Combi.partition.html#rem_corners"><span class="id" type="definition">rem_corners</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#HLF"><span class="id" type="definition">HLF</span></a> (<a class="idref" href="Combi.Combi.partition.html#decr_nth"><span class="id" type="definition">decr_nth</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <span class="id" type="var">i</span>)<span class="id" type="notation">)</span> <span class="id" type="notation">/</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#HLF"><span class="id" type="definition">HLF</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 1.<br/>

<br/>
<span class="id" type="keyword">Corollary</span> <a name="Corollary4_eq"><span class="id" type="lemma">Corollary4_eq</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <span class="id" type="notation">!=</span> <span class="id" type="notation">[::]</span> <span class="id" type="notation">:&gt;</span> <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> → <span class="id" type="notation">\</span><span class="id" type="notation">sum_</span><span class="id" type="notation">(</span><span class="id" type="var">i</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.Combi.partition.html#rem_corners"><span class="id" type="definition">rem_corners</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#HLF"><span class="id" type="definition">HLF</span></a> (<a class="idref" href="Combi.HookFormula.recyama.html#decr_nth_part"><span class="id" type="definition">decr_nth_part</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a> <span class="id" type="var">i</span>)<span class="id" type="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.hook.html#HLF"><span class="id" type="definition">HLF</span></a> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner.p"><span class="id" type="variable">p</span></a>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Combi.HookFormula.hook.html#FindCorner"><span class="id" type="section">FindCorner</span></a>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="HookLengthFormula_rat"><span class="id" type="lemma">HookLengthFormula_rat</span></a> (<span class="id" type="var">p</span> : <a class="idref" href="Combi.Combi.partition.html#intpart"><span class="id" type="record">intpart</span></a>) : <span class="id" type="notation">#|</span><a class="idref" href="Combi.Combi.stdtab.html#stdtabsh_finType"><span class="id" type="definition">stdtabsh_finType</span></a> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a><span class="id" type="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x_':>'_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.HookFormula.hook.html#HLF"><span class="id" type="definition">HLF</span></a> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x_':>'_x"><span class="id" type="notation">:&gt;</span></a> <span class="id" type="record">rat</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="F_deno_non0"><span class="id" type="lemma">F_deno_non0</span></a> (<span class="id" type="var">p</span> : <a class="idref" href="Combi.Combi.partition.html#intpart"><span class="id" type="record">intpart</span></a>) : <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#F_deno"><span class="id" type="definition">F_deno</span></a> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">!=</span> 0.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="HLprod_nat"><span class="id" type="lemma">HLprod_nat</span></a> (<span class="id" type="var">p</span> : <a class="idref" href="Combi.Combi.partition.html#intpart"><span class="id" type="record">intpart</span></a>) : <span class="id" type="notation">#|</span><a class="idref" href="Combi.Combi.stdtab.html#stdtabsh_finType"><span class="id" type="definition">stdtabsh_finType</span></a> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a><span class="id" type="notation">|</span> <span class="id" type="notation">×</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#F_deno"><span class="id" type="definition">F_deno</span></a> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="notation">(</span><span class="id" type="definition">sumn</span> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)`!</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="divF_deno"><span class="id" type="lemma">divF_deno</span></a> (<span class="id" type="var">p</span> : <a class="idref" href="Combi.Combi.partition.html#intpart"><span class="id" type="record">intpart</span></a>) : <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#F_deno"><span class="id" type="definition">F_deno</span></a> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">%|</span> <span class="id" type="notation">(</span><span class="id" type="definition">sumn</span> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)`!</span>.<br/>
 
<br/>
<span class="id" type="keyword">Theorem</span> <a name="HookLengthFormula"><span class="id" type="lemma">HookLengthFormula</span></a> (<span class="id" type="var">p</span> : <a class="idref" href="Combi.Combi.partition.html#intpart"><span class="id" type="record">intpart</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" type="notation">#|</span><a class="idref" href="Combi.Combi.stdtab.html#stdtabsh_finType"><span class="id" type="definition">stdtabsh_finType</span></a> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a><span class="id" type="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="notation">(</span><span class="id" type="definition">sumn</span> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)`!</span> <span class="id" type="notation">%/</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.HookFormula.hook.html#F_deno"><span class="id" type="definition">F_deno</span></a> <a class="idref" href="Combi.HookFormula.hook.html#p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)</span>.<br/>
 
<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>