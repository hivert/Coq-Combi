<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>Combi.LRrule.shuffle</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Combi.LRrule.shuffle</h1>

<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="library">ssreflect</span> <span class="id" type="library">ssrbool</span> <span class="id" type="library">ssrfun</span> <span class="id" type="library">ssrnat</span> <span class="id" type="library">eqtype</span> <span class="id" type="library">finfun</span> <span class="id" type="library">fintype</span> <span class="id" type="library">choice</span> <span class="id" type="library">seq</span> <span class="id" type="library">tuple</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="library">finset</span> <span class="id" type="library">perm</span> <span class="id" type="library">binomial</span> <span class="id" type="library">bigop</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Combi.SSRcomplements.tools.html#"><span class="id" type="library">tools</span></a> <a class="idref" href="Combi.Combi.vectNK.html#"><span class="id" type="library">vectNK</span></a> <a class="idref" href="Combi.Combi.subseq.html#"><span class="id" type="library">subseq</span></a> <a class="idref" href="Combi.Combi.partition.html#"><span class="id" type="library">partition</span></a> <a class="idref" href="Combi.Combi.Yamanouchi.html#"><span class="id" type="library">Yamanouchi</span></a> <a class="idref" href="Combi.Basic.ordtype.html#"><span class="id" type="library">ordtype</span></a> <a class="idref" href="Combi.Combi.std.html#"><span class="id" type="library">std</span></a> <a class="idref" href="Combi.Combi.tableau.html#"><span class="id" type="library">tableau</span></a> <a class="idref" href="Combi.Combi.stdtab.html#"><span class="id" type="library">stdtab</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Combi.LRrule.Schensted.html#"><span class="id" type="library">Schensted</span></a> <a class="idref" href="Combi.LRrule.plactic.html#"><span class="id" type="library">plactic</span></a> <a class="idref" href="Combi.LRrule.Greene_inv.html#"><span class="id" type="library">Greene_inv</span></a> <a class="idref" href="Combi.LRrule.stdplact.html#"><span class="id" type="library">stdplact</span></a>.<br/>

<br/>
<span class="id" type="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">bool</span>.<br/>

<br/>
<span class="id" type="keyword">Import</span> <span class="id" type="var">OrdNotations</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="Defs"><span class="id" type="section">Defs</span></a>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="Defs.Alph"><span class="id" type="variable">Alph</span></a> : <span class="id" type="abbreviation">eqType</span>.<br/>
<span class="id" type="keyword">Let</span> <a name="Defs.word"><span class="id" type="variable">word</span></a> := <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.LRrule.shuffle.html#Defs.Alph"><span class="id" type="variable">Alph</span></a>.<br/>

<br/>
<span class="id" type="keyword">Implicit</span> <span class="id" type="keyword">Type</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span> : <a class="idref" href="Combi.LRrule.shuffle.html#Defs.Alph"><span class="id" type="variable">Alph</span></a>.<br/>
<span class="id" type="keyword">Implicit</span> <span class="id" type="keyword">Type</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> : <a class="idref" href="Combi.LRrule.shuffle.html#Defs.word"><span class="id" type="variable">word</span></a>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="shuffle_from_rec"><span class="id" type="definition">shuffle_from_rec</span></a> <span class="id" type="var">a</span> <span class="id" type="var">u</span> <span class="id" type="var">shuffu'</span> <span class="id" type="var">v</span> {<span class="id" type="keyword">struct</span> <span class="id" type="var">v</span>} :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">if</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="var">is</span> <span class="id" type="var">b</span> <span class="id" type="notation">::</span> <span class="id" type="var">v'</span> <span class="id" type="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="notation">[</span><span class="id" type="notation">seq</span> <a class="idref" href="Combi.LRrule.shuffle.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <span class="id" type="var">w</span> <span class="id" type="notation">|</span> <span class="id" type="var">w</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.LRrule.shuffle.html#shuffu'"><span class="id" type="variable">shuffu'</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a><span class="id" type="notation">]</span> <span class="id" type="notation">++</span> <span class="id" type="notation">[</span><span class="id" type="notation">seq</span> <span class="id" type="var">b</span> <span class="id" type="notation">::</span> <span class="id" type="var">w</span> <span class="id" type="notation">|</span> <span class="id" type="var">w</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.LRrule.shuffle.html#shuffle_from_rec"><span class="id" type="definition">shuffle_from_rec</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#shuffu'"><span class="id" type="variable">shuffu'</span></a> <span class="id" type="var">v'</span><span class="id" type="notation">]</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">else</span> <span class="id" type="notation">[::</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.LRrule.shuffle.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a><span class="id" type="notation">)]</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="shuffle"><span class="id" type="definition">shuffle</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> {<span class="id" type="keyword">struct</span> <span class="id" type="var">u</span>} :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">if</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="var">is</span> <span class="id" type="var">a</span> <span class="id" type="notation">::</span> <span class="id" type="var">u'</span> <span class="id" type="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Combi.LRrule.shuffle.html#shuffle_from_rec"><span class="id" type="definition">shuffle_from_rec</span></a> <span class="id" type="var">a</span> <span class="id" type="var">u'</span> (<a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <span class="id" type="var">u'</span>) <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">else</span> <span class="id" type="notation">[::</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a><span class="id" type="notation">]</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="shuffle_nil"><span class="id" type="lemma">shuffle_nil</span></a> <span class="id" type="var">u</span> : <a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">[::]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="notation">[::</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a><span class="id" type="notation">]</span>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="size_shuffle"><span class="id" type="lemma">size_shuffle</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <span class="id" type="definition">size</span> (<a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="definition">binomial</span> (<span class="id" type="notation">(</span><span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">+</span> <span class="id" type="notation">(</span><span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a><span class="id" type="notation">)</span>) (<span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="shuffleC"><span class="id" type="lemma">shuffleC</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <span class="id" type="definition">perm_eq</span> (<a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>) (<a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>).<br/>

<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="shuffle_perm_eq"><span class="id" type="lemma">shuffle_perm_eq</span></a> <span class="id" type="var">u</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> :<br/>
&nbsp;&nbsp;<span class="id" type="definition">perm_eq</span> <a class="idref" href="Combi.LRrule.shuffle.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#l2"><span class="id" type="variable">l2</span></a> →<br/>
&nbsp;&nbsp;<span class="id" type="definition">perm_eq</span> (<span class="id" type="definition">flatten</span> <span class="id" type="notation">[</span><span class="id" type="notation">seq</span> <a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="var">x</span> <span class="id" type="notation">|</span> <span class="id" type="var">x</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.LRrule.shuffle.html#l1"><span class="id" type="variable">l1</span></a><span class="id" type="notation">]</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="definition">flatten</span> <span class="id" type="notation">[</span><span class="id" type="notation">seq</span> <a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="var">x</span> <span class="id" type="notation">|</span> <span class="id" type="var">x</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.LRrule.shuffle.html#l2"><span class="id" type="variable">l2</span></a><span class="id" type="notation">]</span>).<br/>

<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="perm_eq_shuffle"><span class="id" type="lemma">perm_eq_shuffle</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <span class="id" type="definition">all</span> (<span class="id" type="definition">perm_eq</span> (<a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>)) (<a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="all_size_shuffle"><span class="id" type="lemma">all_size_shuffle</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <span class="id" type="definition">all</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">s</span> ⇒ <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">==</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">+</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>) (<a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="all_in_shufflel"><span class="id" type="lemma">all_in_shufflel</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;<span class="id" type="definition">predI</span> (<span class="id" type="definition">mem</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) (<span class="id" type="definition">mem</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>) <span class="id" type="notation">=</span><span class="id" type="notation">i</span> <span class="id" type="definition">pred0</span> →<br/>
&nbsp;&nbsp;<span class="id" type="definition">all</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">s</span> ⇒ <span class="id" type="definition">filter</span> (<span class="id" type="definition">mem</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">==</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) (<a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="all_in_shuffler"><span class="id" type="lemma">all_in_shuffler</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;<span class="id" type="definition">predI</span> (<span class="id" type="definition">mem</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) (<span class="id" type="definition">mem</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>) <span class="id" type="notation">=</span><span class="id" type="notation">i</span> <span class="id" type="definition">pred0</span> →<br/>
&nbsp;&nbsp;<span class="id" type="definition">all</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">s</span> ⇒ <span class="id" type="definition">filter</span> (<span class="id" type="definition">mem</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">==</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>) (<a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="mem_shuffle_predU"><span class="id" type="lemma">mem_shuffle_predU</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> <span class="id" type="var">s</span> <span class="id" type="var">Pu</span> <span class="id" type="var">Pv</span>:<br/>
&nbsp;&nbsp;<span class="id" type="definition">predI</span> <a class="idref" href="Combi.LRrule.shuffle.html#Pu"><span class="id" type="variable">Pu</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#Pv"><span class="id" type="variable">Pv</span></a> <span class="id" type="notation">=</span><span class="id" type="notation">i</span> <span class="id" type="definition">pred0</span> →<br/>
&nbsp;&nbsp;<span class="id" type="definition">filter</span> <a class="idref" href="Combi.LRrule.shuffle.html#Pu"><span class="id" type="variable">Pu</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> → <span class="id" type="definition">filter</span> <a class="idref" href="Combi.LRrule.shuffle.html#Pv"><span class="id" type="variable">Pv</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> → <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">+</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> →<br/>
&nbsp;&nbsp;<span class="id" type="definition">filter</span> (<span class="id" type="definition">predU</span> <a class="idref" href="Combi.LRrule.shuffle.html#Pu"><span class="id" type="variable">Pu</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#Pv"><span class="id" type="variable">Pv</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="mem_shuffle_pred"><span class="id" type="lemma">mem_shuffle_pred</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> <span class="id" type="var">s</span> <span class="id" type="var">Pu</span> <span class="id" type="var">Pv</span>:<br/>
&nbsp;&nbsp;<span class="id" type="definition">predI</span> <a class="idref" href="Combi.LRrule.shuffle.html#Pu"><span class="id" type="variable">Pu</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#Pv"><span class="id" type="variable">Pv</span></a> <span class="id" type="notation">=</span><span class="id" type="notation">i</span> <span class="id" type="definition">pred0</span> →<br/>
&nbsp;&nbsp;<span class="id" type="definition">filter</span> <a class="idref" href="Combi.LRrule.shuffle.html#Pu"><span class="id" type="variable">Pu</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> → <span class="id" type="definition">filter</span> <a class="idref" href="Combi.LRrule.shuffle.html#Pv"><span class="id" type="variable">Pv</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> → <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">+</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="mem_shuffle"><span class="id" type="lemma">mem_shuffle</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> <span class="id" type="var">s</span> :<br/>
&nbsp;&nbsp;<span class="id" type="definition">predI</span> (<span class="id" type="definition">mem</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) (<span class="id" type="definition">mem</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>) <span class="id" type="notation">=</span><span class="id" type="notation">i</span> <span class="id" type="definition">pred0</span> →<br/>
&nbsp;&nbsp;<span class="id" type="notation">[&amp;&amp;</span> <span class="id" type="definition">filter</span> (<span class="id" type="definition">mem</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">==</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a><span class="id" type="notation">,</span> <span class="id" type="definition">filter</span> (<span class="id" type="definition">mem</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">==</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="notation">&amp;</span> <span class="id" type="notation">(</span><span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">==</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">+</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a><span class="id" type="notation">)]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="swap_shuffle"><span class="id" type="lemma">swap_shuffle</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">r</span> <span class="id" type="var">Pu</span> <span class="id" type="var">Pv</span> :<br/>
&nbsp;&nbsp;<span class="id" type="definition">predI</span> <a class="idref" href="Combi.LRrule.shuffle.html#Pu"><span class="id" type="variable">Pu</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#Pv"><span class="id" type="variable">Pv</span></a> <span class="id" type="notation">=</span><span class="id" type="notation">i</span> <span class="id" type="definition">pred0</span> →<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">s</span> := <a class="idref" href="Combi.LRrule.shuffle.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="notation">++</span> <span class="id" type="notation">[::</span> <a class="idref" href="Combi.LRrule.shuffle.html#a"><span class="id" type="variable">a</span></a><span class="id" type="notation">;</span> <a class="idref" href="Combi.LRrule.shuffle.html#b"><span class="id" type="variable">b</span></a><span class="id" type="notation">]</span> <span class="id" type="notation">++</span> <a class="idref" href="Combi.LRrule.shuffle.html#r"><span class="id" type="variable">r</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="definition">filter</span> <a class="idref" href="Combi.LRrule.shuffle.html#Pu"><span class="id" type="variable">Pu</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> → <span class="id" type="definition">filter</span> <a class="idref" href="Combi.LRrule.shuffle.html#Pv"><span class="id" type="variable">Pv</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> → <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">+</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.LRrule.shuffle.html#Pu"><span class="id" type="variable">Pu</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#a"><span class="id" type="variable">a</span></a> → <a class="idref" href="Combi.LRrule.shuffle.html#Pv"><span class="id" type="variable">Pv</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#b"><span class="id" type="variable">b</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.LRrule.shuffle.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="notation">++</span> <span class="id" type="notation">[::</span> <a class="idref" href="Combi.LRrule.shuffle.html#b"><span class="id" type="variable">b</span></a><span class="id" type="notation">;</span> <a class="idref" href="Combi.LRrule.shuffle.html#a"><span class="id" type="variable">a</span></a><span class="id" type="notation">]</span> <span class="id" type="notation">++</span> <a class="idref" href="Combi.LRrule.shuffle.html#r"><span class="id" type="variable">r</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Combi.LRrule.shuffle.html#Defs"><span class="id" type="section">Defs</span></a>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="ShiftedShuffle"><span class="id" type="section">ShiftedShuffle</span></a>.<br/>

<br/>
<span class="id" type="keyword">Implicit</span> <span class="id" type="keyword">Type</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="shiftn"><span class="id" type="definition">shiftn</span></a> <span class="id" type="var">n</span> := <span class="id" type="definition">map</span> (<span class="id" type="definition">addn</span> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a>).<br/>
<span class="id" type="keyword">Definition</span> <a name="sfiltergtn"><span class="id" type="definition">sfiltergtn</span></a> <span class="id" type="var">n</span> := <span class="id" type="notation">[</span><span class="id" type="keyword">fun</span> <span class="id" type="var">v</span> <span class="id" type="notation">⇒</span> <span class="id" type="definition">filter</span> (<span class="id" type="definition">gtn</span> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a>) <span class="id" type="var">v</span><span class="id" type="notation">]</span>.<br/>
<span class="id" type="keyword">Definition</span> <a name="sfilterleq"><span class="id" type="definition">sfilterleq</span></a> <span class="id" type="var">n</span> := <span class="id" type="notation">[</span><span class="id" type="keyword">fun</span> <span class="id" type="var">v</span> <span class="id" type="notation">⇒</span> <span class="id" type="definition">map</span> (<span class="id" type="definition">subn</span><span class="id" type="notation">^~</span> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a>) (<span class="id" type="definition">filter</span> (<span class="id" type="definition">leq</span> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a>) <span class="id" type="var">v</span>)<span class="id" type="notation">]</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="shiftuK"><span class="id" type="lemma">shiftuK</span></a> <span class="id" type="var">n</span> : <span class="id" type="definition">cancel</span> (<a class="idref" href="Combi.LRrule.shuffle.html#shiftn"><span class="id" type="definition">shiftn</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a>) (<span class="id" type="definition">map</span> (<span class="id" type="definition">subn</span><span class="id" type="notation">^~</span> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a>)).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="sfilterleqK"><span class="id" type="lemma">sfilterleqK</span></a> <span class="id" type="var">n</span> <span class="id" type="var">v</span> : <a class="idref" href="Combi.LRrule.shuffle.html#shiftn"><span class="id" type="definition">shiftn</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> (<a class="idref" href="Combi.LRrule.shuffle.html#sfilterleq"><span class="id" type="definition">sfilterleq</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="notation">[</span><span class="id" type="notation">seq</span> <span class="id" type="var">x</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="notation">|</span> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <span class="id" type="notation">≤</span> <span class="id" type="var">x</span><span class="id" type="notation">]</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="sfilterleqE"><span class="id" type="lemma">sfilterleqE</span></a> <span class="id" type="var">n</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#sfilterleq"><span class="id" type="definition">sfilterleq</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">↔</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#shiftn"><span class="id" type="definition">shiftn</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="definition">filter</span> (<span class="id" type="definition">leq</span> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="mem_sfilterleqK"><span class="id" type="lemma">mem_sfilterleqK</span></a> <span class="id" type="var">n</span> <span class="id" type="var">v</span> <span class="id" type="var">i</span> : <a class="idref" href="Combi.LRrule.shuffle.html#i"><span class="id" type="variable">i</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.LRrule.shuffle.html#sfilterleq"><span class="id" type="definition">sfilterleq</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a><span class="id" type="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.LRrule.shuffle.html#i"><span class="id" type="variable">i</span></a> <span class="id" type="notation">+</span> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="perm_eq_shiftn_std"><span class="id" type="lemma">perm_eq_shiftn_std</span></a> <span class="id" type="var">n</span> <span class="id" type="var">s</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a> → <span class="id" type="definition">perm_eq</span> (<a class="idref" href="Combi.LRrule.shuffle.html#shiftn"><span class="id" type="definition">shiftn</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a>) (<span class="id" type="keyword">iota</span> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> (<span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a>)).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="shsh"><span class="id" type="definition">shsh</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> := <a class="idref" href="Combi.LRrule.shuffle.html#shuffle"><span class="id" type="definition">shuffle</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> (<a class="idref" href="Combi.LRrule.shuffle.html#shiftn"><span class="id" type="definition">shiftn</span></a> (<span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="std_shsh"><span class="id" type="lemma">std_shsh</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> → <a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> → <span class="id" type="definition">all</span> <a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> (<a class="idref" href="Combi.LRrule.shuffle.html#shsh"><span class="id" type="definition">shsh</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="pred0_std"><span class="id" type="lemma">pred0_std</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> → <span class="id" type="notation">[</span><span class="id" type="notation">predI</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">&amp;</span> <a class="idref" href="Combi.LRrule.shuffle.html#shiftn"><span class="id" type="definition">shiftn</span></a> (<span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a><span class="id" type="notation">]</span> <span class="id" type="notation">=</span><span class="id" type="notation">i</span> <span class="id" type="definition">pred0</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="shsh_sfiltergtn"><span class="id" type="lemma">shsh_sfiltergtn</span></a> <span class="id" type="var">p</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> → <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#shsh"><span class="id" type="definition">shsh</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> → <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#sfiltergtn"><span class="id" type="definition">sfiltergtn</span></a> (<span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="shsh_sfilterleq"><span class="id" type="lemma">shsh_sfilterleq</span></a> <span class="id" type="var">p</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> → <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#shsh"><span class="id" type="definition">shsh</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> → <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#sfilterleq"><span class="id" type="definition">sfilterleq</span></a> (<span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="mem_shsh"><span class="id" type="lemma">mem_shsh</span></a> <span class="id" type="var">p</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#shsh"><span class="id" type="definition">shsh</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.LRrule.shuffle.html#sfiltergtn"><span class="id" type="definition">sfiltergtn</span></a> (<span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a> <span class="id" type="notation">==</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.LRrule.shuffle.html#sfilterleq"><span class="id" type="definition">sfilterleq</span></a> (<span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a> <span class="id" type="notation">==</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="shift_plactcongr"><span class="id" type="lemma">shift_plactcongr</span></a> <span class="id" type="var">n</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.plactic.html#::x_'=Pl'_x"><span class="id" type="notation">=</span></a><a class="idref" href="Combi.LRrule.plactic.html#::x_'=Pl'_x"><span class="id" type="notation">Pl</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.LRrule.shuffle.html#shiftn"><span class="id" type="definition">shiftn</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.LRrule.plactic.html#::x_'=Pl'_x"><span class="id" type="notation">=</span></a><a class="idref" href="Combi.LRrule.plactic.html#::x_'=Pl'_x"><span class="id" type="notation">Pl</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#shiftn"><span class="id" type="definition">shiftn</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Combi.LRrule.shuffle.html#ShiftedShuffle"><span class="id" type="section">ShiftedShuffle</span></a>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="LRTriple"><span class="id" type="section">LRTriple</span></a>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="LRTriple.Alph"><span class="id" type="variable">Alph</span></a> : <a class="idref" href="Combi.Basic.ordtype.html#InhOrdType.Exports.inhOrdType"><span class="id" type="abbreviation">inhOrdType</span></a>.<br/>
<span class="id" type="keyword">Let</span> <a name="LRTriple.word"><span class="id" type="variable">word</span></a> := <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.LRrule.shuffle.html#LRTriple.Alph"><span class="id" type="variable">Alph</span></a>.<br/>

<br/>
<span class="id" type="keyword">Implicit</span> <span class="id" type="keyword">Type</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span> : <a class="idref" href="Combi.LRrule.shuffle.html#LRTriple.Alph"><span class="id" type="variable">Alph</span></a>.<br/>
<span class="id" type="keyword">Implicit</span> <span class="id" type="keyword">Type</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> : <a class="idref" href="Combi.LRrule.shuffle.html#LRTriple.word"><span class="id" type="variable">word</span></a>.<br/>
<span class="id" type="keyword">Implicit</span> <span class="id" type="keyword">Type</span> <span class="id" type="var">t</span> : <span class="id" type="abbreviation">seq</span> (<span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="perm_eq_sfiltergtn"><span class="id" type="lemma">perm_eq_sfiltergtn</span></a> <span class="id" type="var">p</span> <span class="id" type="var">n</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a> → <span class="id" type="definition">perm_eq</span> (<a class="idref" href="Combi.LRrule.shuffle.html#sfiltergtn"><span class="id" type="definition">sfiltergtn</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a>) (<span class="id" type="keyword">iota</span> 0 (<span class="id" type="definition">minn</span> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> (<span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a>))).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="perm_eq_sfilterleq"><span class="id" type="lemma">perm_eq_sfilterleq</span></a> <span class="id" type="var">p</span> <span class="id" type="var">n</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a> → <span class="id" type="definition">perm_eq</span> (<a class="idref" href="Combi.LRrule.shuffle.html#sfilterleq"><span class="id" type="definition">sfilterleq</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a>) (<span class="id" type="keyword">iota</span> 0 (<span class="id" type="notation">(</span><span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">-</span> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a>)).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="size_sfiltergtn"><span class="id" type="lemma">size_sfiltergtn</span></a> <span class="id" type="var">p</span> <span class="id" type="var">n</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a> → <span class="id" type="definition">size</span> (<a class="idref" href="Combi.LRrule.shuffle.html#sfiltergtn"><span class="id" type="definition">sfiltergtn</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="definition">minn</span> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> (<span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a>).<br/>
 <span class="id" type="keyword">Lemma</span> <a name="size_sfilterleq"><span class="id" type="lemma">size_sfilterleq</span></a> <span class="id" type="var">p</span> <span class="id" type="var">n</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a> → <span class="id" type="definition">size</span> (<a class="idref" href="Combi.LRrule.shuffle.html#sfilterleq"><span class="id" type="definition">sfilterleq</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="notation">(</span><span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">-</span> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="sfiltergtn_is_std"><span class="id" type="lemma">sfiltergtn_is_std</span></a> <span class="id" type="var">p</span> <span class="id" type="var">n</span> : <a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a> → <a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> (<a class="idref" href="Combi.LRrule.shuffle.html#sfiltergtn"><span class="id" type="definition">sfiltergtn</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a>).<br/>
<span class="id" type="keyword">Lemma</span> <a name="sfilterleq_is_std"><span class="id" type="lemma">sfilterleq_is_std</span></a> <span class="id" type="var">p</span> <span class="id" type="var">n</span> : <a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a> → <a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> (<a class="idref" href="Combi.LRrule.shuffle.html#sfilterleq"><span class="id" type="definition">sfilterleq</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="size_sfiltergtn_cat"><span class="id" type="lemma">size_sfiltergtn_cat</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;<span class="id" type="definition">size</span> (<a class="idref" href="Combi.LRrule.shuffle.html#sfiltergtn"><span class="id" type="definition">sfiltergtn</span></a> (<span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) (<a class="idref" href="Combi.Combi.std.html#invstd"><span class="id" type="definition">invstd</span></a> (<a class="idref" href="Combi.Combi.std.html#std"><span class="id" type="definition">std</span></a> (<a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>.<br/>
<span class="id" type="keyword">Lemma</span> <a name="size_sfilterleq_cat"><span class="id" type="lemma">size_sfilterleq_cat</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;<span class="id" type="definition">size</span> (<a class="idref" href="Combi.LRrule.shuffle.html#sfilterleq"><span class="id" type="definition">sfilterleq</span></a> (<span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) (<a class="idref" href="Combi.Combi.std.html#invstd"><span class="id" type="definition">invstd</span></a> (<a class="idref" href="Combi.Combi.std.html#std"><span class="id" type="definition">std</span></a> (<a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="index_leq_filter"><span class="id" type="lemma">index_leq_filter</span></a> <span class="id" type="var">l</span> (<span class="id" type="var">P</span> : <span class="id" type="definition">pred</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) <span class="id" type="var">i</span> <span class="id" type="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.LRrule.shuffle.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#i"><span class="id" type="variable">i</span></a> → <a class="idref" href="Combi.LRrule.shuffle.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#j"><span class="id" type="variable">j</span></a> →<br/>
&nbsp;&nbsp;<span class="id" type="notation">(</span><span class="id" type="definition">index</span> <a class="idref" href="Combi.LRrule.shuffle.html#i"><span class="id" type="variable">i</span></a> (<span class="id" type="definition">filter</span> <a class="idref" href="Combi.LRrule.shuffle.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#l"><span class="id" type="variable">l</span></a>)<span class="id" type="notation">)</span> <span class="id" type="notation">≤</span> <span class="id" type="notation">(</span><span class="id" type="definition">index</span> <a class="idref" href="Combi.LRrule.shuffle.html#j"><span class="id" type="variable">j</span></a> (<span class="id" type="definition">filter</span> <a class="idref" href="Combi.LRrule.shuffle.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#l"><span class="id" type="variable">l</span></a>)<span class="id" type="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><span class="id" type="definition">index</span> <a class="idref" href="Combi.LRrule.shuffle.html#i"><span class="id" type="variable">i</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="notation">≤</span> <span class="id" type="definition">index</span> <a class="idref" href="Combi.LRrule.shuffle.html#j"><span class="id" type="variable">j</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#l"><span class="id" type="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="index_sfilterleq"><span class="id" type="lemma">index_sfilterleq</span></a> <span class="id" type="var">n</span> <span class="id" type="var">s</span> <span class="id" type="var">i</span> :<br/>
&nbsp;&nbsp;<span class="id" type="definition">index</span> <a class="idref" href="Combi.LRrule.shuffle.html#i"><span class="id" type="variable">i</span></a> (<a class="idref" href="Combi.LRrule.shuffle.html#sfilterleq"><span class="id" type="definition">sfilterleq</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="definition">index</span> (<a class="idref" href="Combi.LRrule.shuffle.html#i"><span class="id" type="variable">i</span></a> <span class="id" type="notation">+</span> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a>) (<span class="id" type="definition">filter</span> (<span class="id" type="definition">leq</span> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#s"><span class="id" type="variable">s</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="index_invstd"><span class="id" type="lemma">index_invstd</span></a> <span class="id" type="var">l</span> <span class="id" type="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.std.html#is_std"><span class="id" type="definition">is_std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#l"><span class="id" type="variable">l</span></a> → <a class="idref" href="Combi.LRrule.shuffle.html#i"><span class="id" type="variable">i</span></a> <span class="id" type="notation">&lt;</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#l"><span class="id" type="variable">l</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><span class="id" type="definition">index</span> <a class="idref" href="Combi.LRrule.shuffle.html#i"><span class="id" type="variable">i</span></a> (<a class="idref" href="Combi.Combi.std.html#invstd"><span class="id" type="definition">invstd</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#l"><span class="id" type="variable">l</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="definition">nth</span> (<a class="idref" href="Combi.Basic.ordtype.html#inhabitant"><span class="id" type="definition">inhabitant</span></a> <a class="idref" href="Combi.Basic.ordtype.html#nat_inhOrdType"><span class="id" type="definition">nat_inhOrdType</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#i"><span class="id" type="variable">i</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="invstd_catgtn"><span class="id" type="lemma">invstd_catgtn</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.std.html#invstd"><span class="id" type="definition">invstd</span></a> (<a class="idref" href="Combi.Combi.std.html#std"><span class="id" type="definition">std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#sfiltergtn"><span class="id" type="definition">sfiltergtn</span></a> (<span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) (<a class="idref" href="Combi.Combi.std.html#invstd"><span class="id" type="definition">invstd</span></a> (<a class="idref" href="Combi.Combi.std.html#std"><span class="id" type="definition">std</span></a> (<a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>))).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="invstd_catleq"><span class="id" type="lemma">invstd_catleq</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.std.html#invstd"><span class="id" type="definition">invstd</span></a> (<a class="idref" href="Combi.Combi.std.html#std"><span class="id" type="definition">std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#sfilterleq"><span class="id" type="definition">sfilterleq</span></a> (<span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>) (<a class="idref" href="Combi.Combi.std.html#invstd"><span class="id" type="definition">invstd</span></a> (<a class="idref" href="Combi.Combi.std.html#std"><span class="id" type="definition">std</span></a> (<a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>))).<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="invstd_cat_in_shsh"><span class="id" type="lemma">invstd_cat_in_shsh</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.std.html#invstd"><span class="id" type="definition">invstd</span></a> (<a class="idref" href="Combi.Combi.std.html#std"><span class="id" type="definition">std</span></a> (<a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>)) <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#shsh"><span class="id" type="definition">shsh</span></a> (<a class="idref" href="Combi.Combi.std.html#invstd"><span class="id" type="definition">invstd</span></a> (<a class="idref" href="Combi.Combi.std.html#std"><span class="id" type="definition">std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a>)) (<a class="idref" href="Combi.Combi.std.html#invstd"><span class="id" type="definition">invstd</span></a> (<a class="idref" href="Combi.Combi.std.html#std"><span class="id" type="definition">std</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#v"><span class="id" type="variable">v</span></a>)).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="langQ"><span class="id" type="definition">langQ</span></a> <span class="id" type="var">t</span> := <span class="id" type="notation">[</span><span class="id" type="notation">pred</span> <span class="id" type="var">w</span> <span class="id" type="notation">:</span> <a class="idref" href="Combi.LRrule.shuffle.html#LRTriple.word"><span class="id" type="variable">word</span></a> <span class="id" type="notation">|</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.LRrule.Schensted.html#RStabmap"><span class="id" type="definition">RStabmap</span></a> <span class="id" type="var">w</span><span class="id" type="notation">).2</span> <span class="id" type="notation">==</span> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a><span class="id" type="notation">]</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="size_langQ"><span class="id" type="lemma">size_langQ</span></a> <span class="id" type="var">t</span> <span class="id" type="var">u</span> : <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#langQ"><span class="id" type="definition">langQ</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a> → <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.Combi.tableau.html#size_tab"><span class="id" type="definition">size_tab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a>.<br/>

<br/>
<span class="id" type="keyword">Record</span> <a name="LRtriple"><span class="id" type="inductive">LRtriple</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">t</span> : <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a name="LRTriple"><span class="id" type="constructor">LRTriple</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">p1</span> <span class="id" type="var">p2</span> <span class="id" type="var">p</span>, <a class="idref" href="Combi.LRrule.Schensted.html#RS"><span class="id" type="definition">RS</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p1"><span class="id" type="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">t1</span> → <a class="idref" href="Combi.LRrule.Schensted.html#RS"><span class="id" type="definition">RS</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p2"><span class="id" type="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">t2</span> → <a class="idref" href="Combi.LRrule.Schensted.html#RS"><span class="id" type="definition">RS</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">t</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#shsh"><span class="id" type="definition">shsh</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p1"><span class="id" type="variable">p1</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p2"><span class="id" type="variable">p2</span></a> → <a class="idref" href="Combi.LRrule.shuffle.html#LRtriple"><span class="id" type="inductive">LRtriple</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="keyword">Definition</span> <a name="pred_LRtriple"><span class="id" type="definition">pred_LRtriple</span></a> (<span class="id" type="var">t1</span> <span class="id" type="var">t2</span> : <span class="id" type="abbreviation">seq</span> (<span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" type="notation">[</span><span class="id" type="notation">pred</span> <span class="id" type="var">t</span> <span class="id" type="notation">:</span> <span class="id" type="notation">(</span><span class="id" type="abbreviation">seq</span> (<span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)<span class="id" type="notation">)</span> <span class="id" type="notation">|</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="definition">has</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">p</span> ⇒ <a class="idref" href="Combi.LRrule.Schensted.html#RS"><span class="id" type="definition">RS</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#p"><span class="id" type="variable">p</span></a> <span class="id" type="notation">==</span> <span class="id" type="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="definition">flatten</span> <span class="id" type="notation">[</span><span class="id" type="notation">seq</span> <a class="idref" href="Combi.LRrule.shuffle.html#shsh"><span class="id" type="definition">shsh</span></a> <span class="id" type="var">p1</span> <span class="id" type="var">p2</span> <span class="id" type="notation">|</span> <span class="id" type="var">p1</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.LRrule.Schensted.html#RSclass"><span class="id" type="definition">RSclass</span></a> <span class="id" type="var">_</span> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a><span class="id" type="notation">,</span> <span class="id" type="var">p2</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.LRrule.Schensted.html#RSclass"><span class="id" type="definition">RSclass</span></a> <span class="id" type="var">_</span> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a><span class="id" type="notation">]</span>)<span class="id" type="notation">]</span>.<br/>
<span class="id" type="keyword">Definition</span> <a name="pred_LRtriple_fast"><span class="id" type="definition">pred_LRtriple_fast</span></a> (<span class="id" type="var">t1</span> <span class="id" type="var">t2</span> : <span class="id" type="abbreviation">seq</span> (<span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" type="notation">[</span><span class="id" type="notation">pred</span> <span class="id" type="var">t</span> <span class="id" type="notation">:</span> <span class="id" type="notation">(</span><span class="id" type="abbreviation">seq</span> (<span class="id" type="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)<span class="id" type="notation">)</span> <span class="id" type="notation">|</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="definition">has</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">p2</span> ⇒ <a class="idref" href="Combi.Combi.tableau.html#to_word"><span class="id" type="definition">to_word</span></a> <span class="id" type="var">t</span> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#shsh"><span class="id" type="definition">shsh</span></a> (<a class="idref" href="Combi.Combi.tableau.html#to_word"><span class="id" type="definition">to_word</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#p2"><span class="id" type="variable">p2</span></a>) (<a class="idref" href="Combi.LRrule.Schensted.html#RSclass"><span class="id" type="definition">RSclass</span></a> <span class="id" type="var">_</span> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a>)<span class="id" type="notation">]</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="LRtripleP"><span class="id" type="lemma">LRtripleP</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">t</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> → <a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> →<br/>
&nbsp;&nbsp;<span class="id" type="inductive">reflect</span> (<a class="idref" href="Combi.LRrule.shuffle.html#LRtriple"><span class="id" type="inductive">LRtriple</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="Combi.LRrule.shuffle.html#pred_LRtriple"><span class="id" type="definition">pred_LRtriple</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="filter_gtnX_RS"><span class="id" type="lemma">filter_gtnX_RS</span></a> (<span class="id" type="var">T</span> : <a class="idref" href="Combi.Basic.ordtype.html#InhOrdType.Exports.inhOrdType"><span class="id" type="abbreviation">inhOrdType</span></a>) (<span class="id" type="var">w</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.LRrule.shuffle.html#T"><span class="id" type="variable">T</span></a>) <span class="id" type="var">n</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.LRrule.Schensted.html#RS"><span class="id" type="definition">RS</span></a> (<span class="id" type="definition">filter</span> (<a class="idref" href="Combi.Basic.ordtype.html#gtnX"><span class="id" type="definition">gtnX</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#w"><span class="id" type="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.Combi.tableau.html#filter_gtnX_tab"><span class="id" type="definition">filter_gtnX_tab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#n"><span class="id" type="variable">n</span></a> (<a class="idref" href="Combi.LRrule.Schensted.html#RS"><span class="id" type="definition">RS</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#w"><span class="id" type="variable">w</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="pred_LRtriple_fast_filter_gtnX"><span class="id" type="lemma">pred_LRtriple_fast_filter_gtnX</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">t</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> → <a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.LRrule.shuffle.html#pred_LRtriple_fast"><span class="id" type="definition">pred_LRtriple_fast</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a> → <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.Combi.tableau.html#filter_gtnX_tab"><span class="id" type="definition">filter_gtnX_tab</span></a> (<a class="idref" href="Combi.Combi.tableau.html#size_tab"><span class="id" type="definition">size_tab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="LRtriple_fastE"><span class="id" type="lemma">LRtriple_fastE</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">t</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> → <a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> → <a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.LRrule.shuffle.html#pred_LRtriple"><span class="id" type="definition">pred_LRtriple</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#pred_LRtriple_fast"><span class="id" type="definition">pred_LRtriple_fast</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="is_stdtab_of_n_LRtriple"><span class="id" type="lemma">is_stdtab_of_n_LRtriple</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">t</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> → <a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> → <a class="idref" href="Combi.LRrule.shuffle.html#LRtriple"><span class="id" type="inductive">LRtriple</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.stdtab.html#is_stdtab_of_n"><span class="id" type="definition">is_stdtab_of_n</span></a> (<span class="id" type="notation">(</span><a class="idref" href="Combi.Combi.tableau.html#size_tab"><span class="id" type="definition">size_tab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a><span class="id" type="notation">)</span> <span class="id" type="notation">+</span> <span class="id" type="notation">(</span><a class="idref" href="Combi.Combi.tableau.html#size_tab"><span class="id" type="definition">size_tab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a><span class="id" type="notation">)</span>) <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="LRtriple_cat_langQ"><span class="id" type="lemma">LRtriple_cat_langQ</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">u1</span> <span class="id" type="var">u2</span>:<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> → <a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> → <a class="idref" href="Combi.LRrule.shuffle.html#u1"><span class="id" type="variable">u1</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#langQ"><span class="id" type="definition">langQ</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> → <a class="idref" href="Combi.LRrule.shuffle.html#u2"><span class="id" type="variable">u2</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#langQ"><span class="id" type="definition">langQ</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.LRrule.shuffle.html#LRtriple"><span class="id" type="inductive">LRtriple</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> <span class="id" type="notation">(</span><a class="idref" href="Combi.LRrule.Schensted.html#RStabmap"><span class="id" type="definition">RStabmap</span></a> (<a class="idref" href="Combi.LRrule.shuffle.html#u1"><span class="id" type="variable">u1</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.LRrule.shuffle.html#u2"><span class="id" type="variable">u2</span></a>)<span class="id" type="notation">).2</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="LRtriple_cat_equiv"><span class="id" type="lemma">LRtriple_cat_equiv</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> → <a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> →<br/>
&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">u1</span> <span class="id" type="var">u2</span> : <a class="idref" href="Combi.LRrule.shuffle.html#LRTriple.word"><span class="id" type="variable">word</span></a>,<br/>
&nbsp;&nbsp;( <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.LRrule.shuffle.html#u1"><span class="id" type="variable">u1</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#langQ"><span class="id" type="definition">langQ</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u2"><span class="id" type="variable">u2</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#langQ"><span class="id" type="definition">langQ</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="notation">[/\</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u1"><span class="id" type="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.Combi.tableau.html#size_tab"><span class="id" type="definition">size_tab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a><span class="id" type="notation">,</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.LRrule.shuffle.html#u2"><span class="id" type="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.Combi.tableau.html#size_tab"><span class="id" type="definition">size_tab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> <span class="id" type="notation">&amp;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#LRtriple"><span class="id" type="inductive">LRtriple</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#u1"><span class="id" type="variable">u1</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.LRrule.shuffle.html#u2"><span class="id" type="variable">u2</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.LRrule.shuffle.html#langQ"><span class="id" type="definition">langQ</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a><span class="id" type="notation">]</span> ).<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="LRtriple_conj"><span class="id" type="lemma">LRtriple_conj</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">t</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> → <a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> → <a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.LRrule.shuffle.html#LRtriple"><span class="id" type="inductive">LRtriple</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a> → <a class="idref" href="Combi.LRrule.shuffle.html#LRtriple"><span class="id" type="inductive">LRtriple</span></a> (<a class="idref" href="Combi.Combi.stdtab.html#conj_tab"><span class="id" type="definition">conj_tab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a>) (<a class="idref" href="Combi.Combi.stdtab.html#conj_tab"><span class="id" type="definition">conj_tab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a>) (<a class="idref" href="Combi.Combi.stdtab.html#conj_tab"><span class="id" type="definition">conj_tab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a>).<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="pred_LRtriple_conj"><span class="id" type="lemma">pred_LRtriple_conj</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">t</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> → <a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> → <a class="idref" href="Combi.Combi.stdtab.html#is_stdtab"><span class="id" type="definition">is_stdtab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.LRrule.shuffle.html#pred_LRtriple"><span class="id" type="definition">pred_LRtriple</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#pred_LRtriple"><span class="id" type="definition">pred_LRtriple</span></a> (<a class="idref" href="Combi.Combi.stdtab.html#conj_tab"><span class="id" type="definition">conj_tab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t1"><span class="id" type="variable">t1</span></a>) (<a class="idref" href="Combi.Combi.stdtab.html#conj_tab"><span class="id" type="definition">conj_tab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t2"><span class="id" type="variable">t2</span></a>) (<a class="idref" href="Combi.Combi.stdtab.html#conj_tab"><span class="id" type="definition">conj_tab</span></a> <a class="idref" href="Combi.LRrule.shuffle.html#t"><span class="id" type="variable">t</span></a>).<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Combi.LRrule.shuffle.html#LRTriple"><span class="id" type="section">LRTriple</span></a>.<br/>

<br/>
<span class="id" type="keyword">Implicit Arguments</span> <a class="idref" href="Combi.LRrule.shuffle.html#langQ"><span class="id" type="definition">langQ</span></a> [<span class="id" type="var">Alph</span>].<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>