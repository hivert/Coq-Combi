<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>Combi.Basic.congr: Rewriting rule and congruencies of words</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Combi.Basic.congr: Rewriting rule and congruencies of words</h1>

<div class="code">
</div>

<div class="doc">

</div>
<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="library">ssreflect</span> <span class="id" type="library">ssrbool</span> <span class="id" type="library">ssrfun</span> <span class="id" type="library">ssrnat</span> <span class="id" type="library">eqtype</span> <span class="id" type="library">fintype</span> <span class="id" type="library">seq</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.funind.Recdef.html#"><span class="id" type="library">Recdef</span></a> <span class="id" type="library">path</span> <span class="id" type="library">tuple</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Combi.Combi.permuted.html#"><span class="id" type="library">permuted</span></a> <a class="idref" href="Combi.Combi.vectNK.html#"><span class="id" type="library">vectNK</span></a>.<br/>
</div>

<div class="doc">
<a name="lab6"></a><h1 class="section">Equivalence and congruence closure of a rewriting rule on words</h1>


<div class="paragraph"> </div>

If what follows a relation on T is a term of type <span class="inlinecode"><span class="id" type="definition">rel</span></span> <span class="inlinecode"><a class="idref" href="Combi.SymGroup.symgroup.html#Transp.T"><span class="id" type="variable">T</span></a></span> and a rewriting rule
on T is a term of type <span class="inlinecode"><a class="idref" href="Combi.SymGroup.symgroup.html#Transp.T"><span class="id" type="variable">T</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" type="library">seq</span></span> <span class="inlinecode"><a class="idref" href="Combi.SymGroup.symgroup.html#Transp.T"><span class="id" type="variable">T</span></a></span>.

<div class="paragraph"> </div>

Recall that a word congruence is an equivalence relation compatible with the
concatenation product. This is the following definitions

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#congruence_rel"><span class="id" type="definition">congruence_rel</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.Basic.ordtype.html#PartOrder.r"><span class="id" type="projection">r</span></a></span> == the relation r on <span class="inlinecode"><span class="id" type="library">seq</span></span> <span class="inlinecode"><a class="idref" href="Combi.SymGroup.symgroup.html#Transp.T"><span class="id" type="variable">T</span></a></span> is a congruence

</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#congruence_rule"><span class="id" type="definition">congruence_rule</span></a></span> rule] == the rule rule on <span class="inlinecode"><span class="id" type="library">seq</span></span> <span class="inlinecode"><a class="idref" href="Combi.SymGroup.symgroup.html#Transp.T"><span class="id" type="variable">T</span></a></span> is a congruence rule

</li>
</ul>
Given a rewriting rule, the goal of this file is to compute its word
congruence closure as well as its congruence classes. We therefore suppose
that equivalence classes are <i>finite</i>. This also ensure that the generated
equivalence relation is decidable by bounding the length of the rewriting
paths. Concretely, this is done by requiring that <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#InvarContHom.rule"><span class="id" type="variable">rule</span></a></span> is included in a
refexive relation <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="projection">invar</span></a></span> which is invariant by rewriting rule, that is:

<div class="paragraph"> </div>

  <span class="inlinecode"><span class="id" type="keyword">Hypothesis</span></span> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#Transitive.Hinvar"><span class="id" type="variable">Hinvar</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" type="keyword">∀</span></span> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#x0"><span class="id" type="variable">x0</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#SetContainingBothLeft.Case.x"><span class="id" type="variable">x</span></a>,</span> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="projection">invar</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#x0"><span class="id" type="variable">x0</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#SetContainingBothLeft.Case.x"><span class="id" type="variable">x</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" type="definition">all</span></span> <span class="inlinecode">(<a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="projection">invar</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#x0"><span class="id" type="variable">x0</span></a>)</span> <span class="inlinecode">(<a class="idref" href="Combi.Basic.congr.html#InvarContHom.rule"><span class="id" type="variable">rule</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#SetContainingBothLeft.Case.x"><span class="id" type="variable">x</span></a>).</span>

<div class="paragraph"> </div>

We show that this is true for homogeneous rules (ie: that preserve size) for
words over a finite alphabet as well as multi-homogeneous rules (ie: that
permutes words). Precisely, under the hypothesis

<div class="paragraph"> </div>

  <span class="inlinecode"><span class="id" type="keyword">Hypothesis</span></span> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#InvarContMultHom.Hsym"><span class="id" type="variable">Hsym</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" type="keyword">∀</span></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#SetContainingBothLeft.Case.x"><span class="id" type="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#SetContainingBothLeft.Case.y"><span class="id" type="variable">y</span></a>,</span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#SetContainingBothLeft.Case.x"><span class="id" type="variable">x</span></a></span> <span class="inlinecode">\<span class="id" type="keyword">in</span></span> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#InvarContHom.rule"><span class="id" type="variable">rule</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#SetContainingBothLeft.Case.y"><span class="id" type="variable">y</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#SetContainingBothLeft.Case.y"><span class="id" type="variable">y</span></a></span> <span class="inlinecode">\<span class="id" type="keyword">in</span></span> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#InvarContHom.rule"><span class="id" type="variable">rule</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#SetContainingBothLeft.Case.x"><span class="id" type="variable">x</span></a>.</span>

<div class="paragraph"> </div>

1- for homogeneous rules (ie: that preserve size) for words over a finite
alphabet:

<div class="paragraph"> </div>

  <span class="inlinecode"><span class="id" type="keyword">Hypothesis</span></span> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#InvarContHom.Hhom"><span class="id" type="variable">Hhom</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" type="keyword">∀</span></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.plactic.html#IncrMap.u"><span class="id" type="variable">u</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.shuffle.html#LRTriple.word"><span class="id" type="variable">word</span></a>,</span> <span class="inlinecode"><span class="id" type="definition">all</span></span> <span class="inlinecode">(<a class="idref" href="Combi.Basic.congr.html#InvarContHom.szinvar"><span class="id" type="variable">szinvar</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.plactic.html#IncrMap.u"><span class="id" type="variable">u</span></a>)</span> <span class="inlinecode">(<a class="idref" href="Combi.Basic.congr.html#InvarContHom.rule"><span class="id" type="variable">rule</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.plactic.html#IncrMap.u"><span class="id" type="variable">u</span></a>).</span>

<div class="paragraph"> </div>

We define

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#gencongr_hom"><span class="id" type="definition">gencongr_hom</span></a></span> == the word congrugence generated by a rule

</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#genclass_hom"><span class="id" type="definition">genclass_hom</span></a></span> == the class for <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#gencongr_multhom"><span class="id" type="definition">gencongr_multhom</span></a></span>

</li>
</ul>
2- for multi-homogeneous rules (ie: that permutes words):

<div class="paragraph"> </div>

  <span class="inlinecode"><span class="id" type="keyword">Hypothesis</span></span> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#InvarContMultHom.Hmulthom"><span class="id" type="variable">Hmulthom</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" type="keyword">∀</span></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.plactic.html#IncrMap.u"><span class="id" type="variable">u</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.shuffle.html#LRTriple.word"><span class="id" type="variable">word</span></a>,</span> <span class="inlinecode"><span class="id" type="definition">all</span></span> <span class="inlinecode">(<span class="id" type="definition">perm_eq</span></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.plactic.html#IncrMap.u"><span class="id" type="variable">u</span></a>)</span> <span class="inlinecode">(<a class="idref" href="Combi.Basic.congr.html#InvarContHom.rule"><span class="id" type="variable">rule</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.plactic.html#IncrMap.u"><span class="id" type="variable">u</span></a>).</span>

<div class="paragraph"> </div>

We define

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#gencongr_multhom"><span class="id" type="definition">gencongr_multhom</span></a></span> == the word congrugence generated by a rule

</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#genclass_multhom"><span class="id" type="definition">genclass_multhom</span></a></span> == the class for <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#gencongr_multhom"><span class="id" type="definition">gencongr_multhom</span></a></span>

</li>
</ul>

<div class="paragraph"> </div>

Assuming the two latter hypothesis, we define a relation <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#gencongr"><span class="id" type="definition">gencongr</span></a></span> which is
the congruence transitive closure of rule. The main results here are

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#gencongrP"><span class="id" type="lemma">gencongrP</span></a></span>       : gencongr is the smallest transitive congruence relation
                      contaning rule.

</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#gencongr_unique"><span class="id" type="lemma">gencongr_unique</span></a></span> : gencongr is uniquely characterized by the property above

</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.Basic.congr.html#gencongr_ind"><span class="id" type="lemma">gencongr_ind</span></a></span> : induction principle on classes for gencongr, any property
                   preserved along the rewriting rule holds for classes.      
</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Set Implicit Arguments</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab7"></a><h2 class="section">Transitive closure of a rule with finite classes</h2>
  Since we only need to contruct it and not to compute with it, we use a       simple but extremely inefficient algorithm                                 
</div>
<div class="code">
<span class="id" type="keyword">Section</span> <a name="Transitive"><span class="id" type="section">Transitive</span></a>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="Transitive.T"><span class="id" type="variable">T</span></a> : <span class="id" type="abbreviation">eqType</span>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Transitive.rule"><span class="id" type="variable">rule</span></a> : <a class="idref" href="Combi.Basic.congr.html#Transitive.T"><span class="id" type="variable">T</span></a> → <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.T"><span class="id" type="variable">T</span></a>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Transitive.invar"><span class="id" type="variable">invar</span></a> : <span class="id" type="definition">pred</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.T"><span class="id" type="variable">T</span></a>.<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="Transitive.Hinvar"><span class="id" type="variable">Hinvar</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">x</span>, <a class="idref" href="Combi.Basic.congr.html#Transitive.invar"><span class="id" type="variable">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> → <span class="id" type="definition">all</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.invar"><span class="id" type="variable">invar</span></a> (<a class="idref" href="Combi.Basic.congr.html#Transitive.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>).<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="Transitive.FullKnown"><span class="id" type="section">FullKnown</span></a>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="Transitive.FullKnown.full"><span class="id" type="variable">full</span></a> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.T"><span class="id" type="variable">T</span></a>.<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="Transitive.FullKnown.Hfull"><span class="id" type="variable">Hfull</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">x</span>, <a class="idref" href="Combi.Basic.congr.html#Transitive.invar"><span class="id" type="variable">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> → <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.FullKnown.full"><span class="id" type="variable">full</span></a>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="full_bound"><span class="id" type="lemma">full_bound</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.T"><span class="id" type="variable">T</span></a>, <span class="id" type="definition">all</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.invar"><span class="id" type="variable">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> → <span class="id" type="definition">uniq</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> → <span class="id" type="definition">size</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">≤</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.FullKnown.full"><span class="id" type="variable">full</span></a>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.FullKnown"><span class="id" type="section">FullKnown</span></a>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="Transitive.bound"><span class="id" type="variable">bound</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>.<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="Transitive.Hbound"><span class="id" type="variable">Hbound</span></a>: <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.T"><span class="id" type="variable">T</span></a>, <span class="id" type="definition">all</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.invar"><span class="id" type="variable">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> → <span class="id" type="definition">uniq</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> → <span class="id" type="definition">size</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.bound"><span class="id" type="variable">bound</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="invar_undupE"><span class="id" type="lemma">invar_undupE</span></a> <span class="id" type="var">s</span> : <span class="id" type="definition">all</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.invar"><span class="id" type="variable">invar</span></a> (<span class="id" type="definition">undup</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="definition">all</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.invar"><span class="id" type="variable">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="step"><span class="id" type="definition">step</span></a> <span class="id" type="var">s</span> := <span class="id" type="definition">undup</span> (<a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">++</span> <span class="id" type="definition">flatten</span> (<span class="id" type="definition">map</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a>)).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="step_mem"><span class="id" type="lemma">step_mem</span></a> <span class="id" type="var">s</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> → <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> → <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#step"><span class="id" type="definition">step</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="uniq_step"><span class="id" type="lemma">uniq_step</span></a> <span class="id" type="var">s</span> : <span class="id" type="definition">uniq</span> (<a class="idref" href="Combi.Basic.congr.html#step"><span class="id" type="definition">step</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a>).<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="undup_step"><span class="id" type="lemma">undup_step</span></a> <span class="id" type="var">s</span> : <span class="id" type="definition">undup</span> (<a class="idref" href="Combi.Basic.congr.html#step"><span class="id" type="definition">step</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.Basic.congr.html#step"><span class="id" type="definition">step</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="invar_step"><span class="id" type="lemma">invar_step</span></a> <span class="id" type="var">s</span> : <span class="id" type="definition">all</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.invar"><span class="id" type="variable">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> → <span class="id" type="definition">all</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.invar"><span class="id" type="variable">invar</span></a> (<a class="idref" href="Combi.Basic.congr.html#step"><span class="id" type="definition">step</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="subset_step"><span class="id" type="lemma">subset_step</span></a> <span class="id" type="var">s</span> : <span class="id" type="notation">{</span><span class="id" type="notation">subset</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.Basic.congr.html#step"><span class="id" type="definition">step</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a><span class="id" type="notation">}</span>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="subset_undup_step"><span class="id" type="lemma">subset_undup_step</span></a> <span class="id" type="var">s</span> : <span class="id" type="notation">{</span><span class="id" type="notation">subset</span> <span class="id" type="definition">undup</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.Basic.congr.html#step"><span class="id" type="definition">step</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a><span class="id" type="notation">}</span>.<br/>
 
<br/>
</div>

<div class="doc">
This is a very unefficient transitive closure algorithm 
</div>
<div class="code">
<span class="id" type="keyword">Function</span> <span class="id" type="var">trans</span> (<span class="id" type="var">s</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.T"><span class="id" type="variable">T</span></a>) {<span class="id" type="keyword">measure</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">s</span> ⇒ <a class="idref" href="Combi.Basic.congr.html#Transitive.bound"><span class="id" type="variable">bound</span></a> <span class="id" type="notation">-</span> <span class="id" type="definition">size</span> (<span class="id" type="definition">undup</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a>))} : <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.T"><span class="id" type="variable">T</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">us</span> := <span class="id" type="definition">undup</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">if</span> <span class="id" type="definition">all</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.invar"><span class="id" type="variable">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#us"><span class="id" type="variable">us</span></a> <span class="id" type="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">news</span> := <a class="idref" href="Combi.Basic.congr.html#step"><span class="id" type="definition">step</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.Basic.congr.html#news"><span class="id" type="variable">news</span></a> <span class="id" type="notation">&gt;</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.Basic.congr.html#us"><span class="id" type="variable">us</span></a> <span class="id" type="keyword">then</span> <a class="idref" href="Combi.Basic.congr.html#trans"><span class="id" type="definition">trans</span></a> <a class="idref" href="Combi.Basic.congr.html#news"><span class="id" type="variable">news</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <a class="idref" href="Combi.Basic.congr.html#us"><span class="id" type="variable">us</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">else</span> <a class="idref" href="Combi.Basic.congr.html#us"><span class="id" type="variable">us</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="subset_s_trans_s"><span class="id" type="lemma">subset_s_trans_s</span></a> <span class="id" type="var">s</span> : <span class="id" type="notation">{</span><span class="id" type="notation">subset</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.Basic.congr.html#trans"><span class="id" type="lemma">trans</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a><span class="id" type="notation">}</span>.<br/>

<br/>
<span class="id" type="keyword">CoInductive</span> <a name="rewrite_path"><span class="id" type="inductive">rewrite_path</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> : <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a name="Rew"><span class="id" type="constructor">Rew</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">l</span>, <span class="id" type="definition">path</span> <span class="id" type="notation">[</span><span class="id" type="notation">rel</span> <span class="id" type="notation">of</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.rule"><span class="id" type="variable">rule</span></a><span class="id" type="notation">]</span> <span class="id" type="var">x</span> <a class="idref" href="Combi.Basic.congr.html#l"><span class="id" type="variable">l</span></a> → <span class="id" type="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="definition">last</span> <span class="id" type="var">x</span> <a class="idref" href="Combi.Basic.congr.html#l"><span class="id" type="variable">l</span></a> → <a class="idref" href="Combi.Basic.congr.html#rewrite_path"><span class="id" type="inductive">rewrite_path</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="invar_rewrite_path"><span class="id" type="lemma">invar_rewrite_path</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="Combi.Basic.congr.html#Transitive.invar"><span class="id" type="variable">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> → <a class="idref" href="Combi.Basic.congr.html#rewrite_path"><span class="id" type="inductive">rewrite_path</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> → <a class="idref" href="Combi.Basic.congr.html#Transitive.invar"><span class="id" type="variable">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="step_closed"><span class="id" type="lemma">step_closed</span></a> <span class="id" type="var">x</span> <span class="id" type="var">s</span> <span class="id" type="var">y</span> :<br/>
&nbsp;&nbsp;<span class="id" type="definition">undup</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">=</span><span class="id" type="notation">i</span> <a class="idref" href="Combi.Basic.congr.html#step"><span class="id" type="definition">step</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> → <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> → <a class="idref" href="Combi.Basic.congr.html#rewrite_path"><span class="id" type="inductive">rewrite_path</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> → <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="transP"><span class="id" type="lemma">transP</span></a> <span class="id" type="var">y</span> <span class="id" type="var">l</span>:<br/>
&nbsp;&nbsp;<span class="id" type="definition">all</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.invar"><span class="id" type="variable">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#l"><span class="id" type="variable">l</span></a> → <span class="id" type="inductive">reflect</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="Combi.Basic.congr.html#rewrite_path"><span class="id" type="inductive">rewrite_path</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a>) (<a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#trans"><span class="id" type="lemma">trans</span></a> <a class="idref" href="Combi.Basic.congr.html#l"><span class="id" type="variable">l</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="rewrite_path_trans"><span class="id" type="lemma">rewrite_path_trans</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">z</span> : <a class="idref" href="Combi.Basic.congr.html#rewrite_path"><span class="id" type="inductive">rewrite_path</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> → <a class="idref" href="Combi.Basic.congr.html#rewrite_path"><span class="id" type="inductive">rewrite_path</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="Combi.Basic.congr.html#z"><span class="id" type="variable">z</span></a> → <a class="idref" href="Combi.Basic.congr.html#rewrite_path"><span class="id" type="inductive">rewrite_path</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#z"><span class="id" type="variable">z</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="rewrite_path_sym"><span class="id" type="lemma">rewrite_path_sym</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> :<br/>
&nbsp;&nbsp;(<span class="id" type="keyword">∀</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> → <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#Transitive.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>) →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Basic.congr.html#rewrite_path"><span class="id" type="inductive">rewrite_path</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> → <a class="idref" href="Combi.Basic.congr.html#rewrite_path"><span class="id" type="inductive">rewrite_path</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Combi.Basic.congr.html#Transitive"><span class="id" type="section">Transitive</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab8"></a><h2 class="section">Deals with the dependance of invar on x</h2>

</div>
<div class="code">
<span class="id" type="keyword">Section</span> <a name="Depend"><span class="id" type="section">Depend</span></a>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="Depend.T"><span class="id" type="variable">T</span></a> : <span class="id" type="abbreviation">eqType</span>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Depend.rule"><span class="id" type="variable">rule</span></a> : <a class="idref" href="Combi.Basic.congr.html#Depend.T"><span class="id" type="variable">T</span></a> → <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#Depend.T"><span class="id" type="variable">T</span></a>.<br/>

<br/>
<span class="id" type="keyword">Record</span> <a name="invariant_context"><span class="id" type="record">invariant_context</span></a> :=<br/>
&nbsp;&nbsp;<a name="InvariantContext"><span class="id" type="constructor">InvariantContext</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="invar"><span class="id" type="projection">invar</span></a> : <a class="idref" href="Combi.Basic.congr.html#Depend.T"><span class="id" type="variable">T</span></a> → <span class="id" type="definition">pred</span> <a class="idref" href="Combi.Basic.congr.html#Depend.T"><span class="id" type="variable">T</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Hinvar_refl"><span class="id" type="projection">Hinvar_refl</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">x</span>, <a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="method">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Hinvar_all"><span class="id" type="projection">Hinvar_all</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">x0</span> <span class="id" type="var">x</span>, <a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="method">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#x0"><span class="id" type="variable">x0</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> → <span class="id" type="definition">all</span> (<a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="method">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#x0"><span class="id" type="variable">x0</span></a>) (<a class="idref" href="Combi.Basic.congr.html#Depend.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="bound"><span class="id" type="projection">bound</span></a> : <a class="idref" href="Combi.Basic.congr.html#Depend.T"><span class="id" type="variable">T</span></a> → <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Hbound"><span class="id" type="projection">Hbound</span></a>: <span class="id" type="keyword">∀</span> <span class="id" type="var">x</span> <span class="id" type="var">s</span>, <span class="id" type="definition">all</span> (<a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="method">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> → <span class="id" type="definition">uniq</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> → <span class="id" type="definition">size</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">≤</span> <a class="idref" href="Combi.Basic.congr.html#bound"><span class="id" type="method">bound</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
<span class="id" type="keyword">Variable</span> <a name="Depend.inv"><span class="id" type="variable">inv</span></a> : <a class="idref" href="Combi.Basic.congr.html#invariant_context"><span class="id" type="record">invariant_context</span></a>.<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="Depend.Hsym"><span class="id" type="variable">Hsym</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#Depend.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> → <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#Depend.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="rclass"><span class="id" type="definition">rclass</span></a> <span class="id" type="var">x</span> := <a class="idref" href="Combi.Basic.congr.html#trans"><span class="id" type="lemma">trans</span></a> (@<a class="idref" href="Combi.Basic.congr.html#Hinvar_all"><span class="id" type="projection">Hinvar_all</span></a> <a class="idref" href="Combi.Basic.congr.html#Depend.inv"><span class="id" type="variable">inv</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>) (@<a class="idref" href="Combi.Basic.congr.html#Hbound"><span class="id" type="projection">Hbound</span></a> <a class="idref" href="Combi.Basic.congr.html#Depend.inv"><span class="id" type="variable">inv</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>) <span class="id" type="notation">[::</span> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a><span class="id" type="notation">]</span>.<br/>
<span class="id" type="keyword">Definition</span> <a name="rtrans"><span class="id" type="definition">rtrans</span></a> : <span class="id" type="definition">rel</span> <a class="idref" href="Combi.Basic.congr.html#Depend.T"><span class="id" type="variable">T</span></a> := <span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> ⇒ <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#rclass"><span class="id" type="definition">rclass</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="rtransP"><span class="id" type="lemma">rtransP</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> : <span class="id" type="inductive">reflect</span> (<a class="idref" href="Combi.Basic.congr.html#rewrite_path"><span class="id" type="inductive">rewrite_path</span></a> <a class="idref" href="Combi.Basic.congr.html#Depend.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>) (<a class="idref" href="Combi.Basic.congr.html#rtrans"><span class="id" type="definition">rtrans</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>).<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="equiv_rtrans"><span class="id" type="lemma">equiv_rtrans</span></a> : <span class="id" type="definition">equivalence_rel</span> <a class="idref" href="Combi.Basic.congr.html#rtrans"><span class="id" type="definition">rtrans</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="rtrans_ind"><span class="id" type="lemma">rtrans_ind</span></a> (<span class="id" type="var">P</span> : <a class="idref" href="Combi.Basic.congr.html#Depend.T"><span class="id" type="variable">T</span></a> → <span class="id" type="keyword">Prop</span>) <span class="id" type="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Basic.congr.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> → (<span class="id" type="keyword">∀</span> <span class="id" type="var">y</span> <span class="id" type="var">z</span>, <a class="idref" href="Combi.Basic.congr.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> → <a class="idref" href="Combi.Basic.congr.html#z"><span class="id" type="variable">z</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#Depend.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> → <a class="idref" href="Combi.Basic.congr.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Combi.Basic.congr.html#z"><span class="id" type="variable">z</span></a>) → <span class="id" type="keyword">∀</span> <span class="id" type="var">t</span>, <a class="idref" href="Combi.Basic.congr.html#rtrans"><span class="id" type="definition">rtrans</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#t"><span class="id" type="variable">t</span></a> → <a class="idref" href="Combi.Basic.congr.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Combi.Basic.congr.html#t"><span class="id" type="variable">t</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="rule_rtrans"><span class="id" type="lemma">rule_rtrans</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#Depend.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> → <a class="idref" href="Combi.Basic.congr.html#rtrans"><span class="id" type="definition">rtrans</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="rewrite_path_min"><span class="id" type="lemma">rewrite_path_min</span></a> (<span class="id" type="var">r</span> : <span class="id" type="definition">rel</span> <a class="idref" href="Combi.Basic.congr.html#Depend.T"><span class="id" type="variable">T</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" type="definition">equivalence_rel</span> <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> → (<span class="id" type="keyword">∀</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#Depend.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> → <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a>) →<br/>
&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Combi.Basic.congr.html#rewrite_path"><span class="id" type="inductive">rewrite_path</span></a> <a class="idref" href="Combi.Basic.congr.html#Depend.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> → <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="rtrans_min"><span class="id" type="lemma">rtrans_min</span></a> (<span class="id" type="var">r</span> : <span class="id" type="definition">rel</span> <a class="idref" href="Combi.Basic.congr.html#Depend.T"><span class="id" type="variable">T</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" type="definition">equivalence_rel</span> <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> → (<span class="id" type="keyword">∀</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#Depend.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> → <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a>) →<br/>
&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Combi.Basic.congr.html#rtrans"><span class="id" type="definition">rtrans</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> → <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Combi.Basic.congr.html#Depend"><span class="id" type="section">Depend</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="congruence_rel"><span class="id" type="definition">congruence_rel</span></a> (<span class="id" type="var">T</span> : <span class="id" type="abbreviation">eqType</span>) (<span class="id" type="var">r</span> : <span class="id" type="definition">rel</span> (<span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#T"><span class="id" type="variable">T</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">a</span> <span class="id" type="var">b1</span> <span class="id" type="var">c</span> <span class="id" type="var">b2</span>, <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.Basic.congr.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="Combi.Basic.congr.html#b2"><span class="id" type="variable">b2</span></a> → <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> (<a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#b1"><span class="id" type="variable">b1</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#c"><span class="id" type="variable">c</span></a>) (<a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#b2"><span class="id" type="variable">b2</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#c"><span class="id" type="variable">c</span></a>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="congruence_rule"><span class="id" type="definition">congruence_rule</span></a> (<span class="id" type="var">T</span> : <span class="id" type="abbreviation">eqType</span>) (<span class="id" type="var">rule</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#T"><span class="id" type="variable">T</span></a> → <span class="id" type="abbreviation">seq</span> (<span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#T"><span class="id" type="variable">T</span></a>)) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Basic.congr.html#congruence_rel"><span class="id" type="definition">congruence_rel</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> ⇒ <a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#b"><span class="id" type="variable">b</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab9"></a><h2 class="section">Basic facts on congruences:</h2>
 equivalence of various definitions and immediate consequences             
</div>
<div class="code">
<span class="id" type="keyword">Section</span> <a name="CongruenceFacts"><span class="id" type="section">CongruenceFacts</span></a>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="CongruenceFacts.Alph"><span class="id" type="variable">Alph</span></a> : <span class="id" type="abbreviation">eqType</span>.<br/>
<span class="id" type="keyword">Notation</span> <a name="word"><span class="id" type="abbreviation">word</span></a> := (<span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceFacts.Alph"><span class="id" type="variable">Alph</span></a>).<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="CongruenceFacts.r"><span class="id" type="variable">r</span></a> : <span class="id" type="definition">rel</span> <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>.<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="CongruenceFacts.Hcongr"><span class="id" type="variable">Hcongr</span></a> : <a class="idref" href="Combi.Basic.congr.html#congruence_rel"><span class="id" type="definition">congruence_rel</span></a> <a class="idref" href="Combi.Basic.congr.html#CongruenceFacts.r"><span class="id" type="variable">r</span></a>.<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="CongruenceFacts.Hequiv"><span class="id" type="variable">Hequiv</span></a> : <span class="id" type="definition">equivalence_rel</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceFacts.r"><span class="id" type="variable">r</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congr_cons"><span class="id" type="lemma">congr_cons</span></a> <span class="id" type="var">w1</span> <span class="id" type="var">w2</span> <span class="id" type="var">a</span> : <a class="idref" href="Combi.Basic.congr.html#CongruenceFacts.r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.Basic.congr.html#w1"><span class="id" type="variable">w1</span></a> <a class="idref" href="Combi.Basic.congr.html#w2"><span class="id" type="variable">w2</span></a> → <a class="idref" href="Combi.Basic.congr.html#CongruenceFacts.r"><span class="id" type="variable">r</span></a> (<a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.Basic.congr.html#w1"><span class="id" type="variable">w1</span></a>) (<a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">::</span> <a class="idref" href="Combi.Basic.congr.html#w2"><span class="id" type="variable">w2</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congr_rcons"><span class="id" type="lemma">congr_rcons</span></a> <span class="id" type="var">w1</span> <span class="id" type="var">w2</span> <span class="id" type="var">a</span> : <a class="idref" href="Combi.Basic.congr.html#CongruenceFacts.r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.Basic.congr.html#w1"><span class="id" type="variable">w1</span></a> <a class="idref" href="Combi.Basic.congr.html#w2"><span class="id" type="variable">w2</span></a> → <a class="idref" href="Combi.Basic.congr.html#CongruenceFacts.r"><span class="id" type="variable">r</span></a> (<span class="id" type="definition">rcons</span> <a class="idref" href="Combi.Basic.congr.html#w1"><span class="id" type="variable">w1</span></a> <a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a>) (<span class="id" type="definition">rcons</span> <a class="idref" href="Combi.Basic.congr.html#w2"><span class="id" type="variable">w2</span></a> <a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congr_catl"><span class="id" type="lemma">congr_catl</span></a> <span class="id" type="var">u1</span> <span class="id" type="var">u2</span> <span class="id" type="var">v</span> : <a class="idref" href="Combi.Basic.congr.html#CongruenceFacts.r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.Basic.congr.html#u1"><span class="id" type="variable">u1</span></a> <a class="idref" href="Combi.Basic.congr.html#u2"><span class="id" type="variable">u2</span></a> → <a class="idref" href="Combi.Basic.congr.html#CongruenceFacts.r"><span class="id" type="variable">r</span></a> (<a class="idref" href="Combi.Basic.congr.html#u1"><span class="id" type="variable">u1</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a>) (<a class="idref" href="Combi.Basic.congr.html#u2"><span class="id" type="variable">u2</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a>).<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="congr_catr"><span class="id" type="lemma">congr_catr</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> : <a class="idref" href="Combi.Basic.congr.html#CongruenceFacts.r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.Basic.congr.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="Combi.Basic.congr.html#v2"><span class="id" type="variable">v2</span></a> → <a class="idref" href="Combi.Basic.congr.html#CongruenceFacts.r"><span class="id" type="variable">r</span></a> (<a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#v2"><span class="id" type="variable">v2</span></a>).<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="congr_cat"><span class="id" type="lemma">congr_cat</span></a> <span class="id" type="var">u1</span> <span class="id" type="var">u2</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> : <a class="idref" href="Combi.Basic.congr.html#CongruenceFacts.r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.Basic.congr.html#u1"><span class="id" type="variable">u1</span></a> <a class="idref" href="Combi.Basic.congr.html#u2"><span class="id" type="variable">u2</span></a> → <a class="idref" href="Combi.Basic.congr.html#CongruenceFacts.r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.Basic.congr.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="Combi.Basic.congr.html#v2"><span class="id" type="variable">v2</span></a> → <a class="idref" href="Combi.Basic.congr.html#CongruenceFacts.r"><span class="id" type="variable">r</span></a> (<a class="idref" href="Combi.Basic.congr.html#u1"><span class="id" type="variable">u1</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="Combi.Basic.congr.html#u2"><span class="id" type="variable">u2</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#v2"><span class="id" type="variable">v2</span></a>).<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceFacts"><span class="id" type="section">CongruenceFacts</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab10"></a><h2 class="section">Congruence closure of a bounded rule</h2>

</div>
<div class="code">
<span class="id" type="keyword">Section</span> <a name="CongruenceClosure"><span class="id" type="section">CongruenceClosure</span></a>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="CongruenceClosure.Alph"><span class="id" type="variable">Alph</span></a> : <span class="id" type="abbreviation">eqType</span>.<br/>
<span class="id" type="keyword">Notation</span> <a name="word"><span class="id" type="abbreviation">word</span></a> := (<span class="id" type="definition">seq_eqType</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.Alph"><span class="id" type="variable">Alph</span></a>).<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="CongruenceClosure.rule"><span class="id" type="variable">rule</span></a> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a> → <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>.<br/>

<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="CongruenceClosure.Hsym"><span class="id" type="variable">Hsym</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>, <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> → <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Variable</span> <a name="CongruenceClosure.inv"><span class="id" type="variable">inv</span></a> : <a class="idref" href="Combi.Basic.congr.html#invariant_context"><span class="id" type="record">invariant_context</span></a> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.rule"><span class="id" type="variable">rule</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="congrrule"><span class="id" type="definition">congrrule</span></a> <span class="id" type="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="definition">flatten</span> <span class="id" type="notation">[</span><span class="id" type="notation">seq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="notation">[</span><span class="id" type="notation">seq</span> <span class="id" type="notation">(</span><span class="id" type="var">triple</span><span class="id" type="notation">.1.1</span><span class="id" type="notation">)</span> <span class="id" type="notation">++</span> <span class="id" type="var">b1</span> <span class="id" type="notation">++</span> <span class="id" type="notation">(</span><span class="id" type="var">triple</span><span class="id" type="notation">.2</span><span class="id" type="notation">)</span> <span class="id" type="notation">|</span> <span class="id" type="var">b1</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.rule"><span class="id" type="variable">rule</span></a> <span class="id" type="var">triple</span><span class="id" type="notation">.1</span><span class="id" type="notation">.2</span><span class="id" type="notation">]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="notation">|</span> <span class="id" type="var">triple</span> <span class="id" type="notation">&lt;-</span> <a class="idref" href="Combi.Combi.vectNK.html#cut3"><span class="id" type="definition">cut3</span></a> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">]</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congrruleP"><span class="id" type="lemma">congrruleP</span></a> <span class="id" type="var">u1</span> <span class="id" type="var">u2</span> :<br/>
&nbsp;&nbsp;<span class="id" type="inductive">reflect</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">a</span> <span class="id" type="var">v1</span> <span class="id" type="var">b</span> <span class="id" type="var">v2</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <span class="id" type="notation">[/\</span> <a class="idref" href="Combi.Basic.congr.html#u1"><span class="id" type="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#v1"><span class="id" type="variable">v1</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#b"><span class="id" type="variable">b</span></a><span class="id" type="notation">,</span> <a class="idref" href="Combi.Basic.congr.html#u2"><span class="id" type="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#v2"><span class="id" type="variable">v2</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">&amp;</span> <a class="idref" href="Combi.Basic.congr.html#v1"><span class="id" type="variable">v1</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#v2"><span class="id" type="variable">v2</span></a><span class="id" type="notation">]</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Combi.Basic.congr.html#u1"><span class="id" type="variable">u1</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#congrrule"><span class="id" type="definition">congrrule</span></a> <a class="idref" href="Combi.Basic.congr.html#u2"><span class="id" type="variable">u2</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="rule_congrrule"><span class="id" type="lemma">rule_congrrule</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> → <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#congrrule"><span class="id" type="definition">congrrule</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congrrule_is_congr"><span class="id" type="lemma">congrrule_is_congr</span></a> : <a class="idref" href="Combi.Basic.congr.html#congruence_rule"><span class="id" type="definition">congruence_rule</span></a> <a class="idref" href="Combi.Basic.congr.html#congrrule"><span class="id" type="definition">congrrule</span></a>.<br/>

<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="CongruenceClosure.Hinvar_congr"><span class="id" type="variable">Hinvar_congr</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">u</span> <span class="id" type="var">a</span> <span class="id" type="var">b1</span> <span class="id" type="var">b2</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="projection">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.inv"><span class="id" type="variable">inv</span></a> <a class="idref" href="Combi.Basic.congr.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="Combi.Basic.congr.html#b2"><span class="id" type="variable">b2</span></a> → <a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="projection">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.inv"><span class="id" type="variable">inv</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> (<a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#b1"><span class="id" type="variable">b1</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#c"><span class="id" type="variable">c</span></a>) → <a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="projection">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.inv"><span class="id" type="variable">inv</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> (<a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#b2"><span class="id" type="variable">b2</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#c"><span class="id" type="variable">c</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congrrule_invar"><span class="id" type="lemma">congrrule_invar</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> :<br/>
&nbsp;<a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="projection">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.inv"><span class="id" type="variable">inv</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a> → <span class="id" type="definition">all</span> (<a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="projection">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.inv"><span class="id" type="variable">inv</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a>) (<a class="idref" href="Combi.Basic.congr.html#congrrule"><span class="id" type="definition">congrrule</span></a> <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congrrule_sym"><span class="id" type="lemma">congrrule_sym</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#congrrule"><span class="id" type="definition">congrrule</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> → <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#congrrule"><span class="id" type="definition">congrrule</span></a> <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="invcont_congr"><span class="id" type="definition">invcont_congr</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Basic.congr.html#InvariantContext"><span class="id" type="constructor">InvariantContext</span></a> (<a class="idref" href="Combi.Basic.congr.html#Hinvar_refl"><span class="id" type="projection">Hinvar_refl</span></a> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.inv"><span class="id" type="variable">inv</span></a>) <a class="idref" href="Combi.Basic.congr.html#congrrule_invar"><span class="id" type="lemma">congrrule_invar</span></a> (@<a class="idref" href="Combi.Basic.congr.html#Hbound"><span class="id" type="projection">Hbound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.inv"><span class="id" type="variable">inv</span></a>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="gencongr"><span class="id" type="definition">gencongr</span></a> := <a class="idref" href="Combi.Basic.congr.html#rtrans"><span class="id" type="definition">rtrans</span></a> <a class="idref" href="Combi.Basic.congr.html#invcont_congr"><span class="id" type="definition">invcont_congr</span></a>.<br/>
<span class="id" type="keyword">Definition</span> <a name="genclass"><span class="id" type="definition">genclass</span></a> := <a class="idref" href="Combi.Basic.congr.html#rclass"><span class="id" type="definition">rclass</span></a> <a class="idref" href="Combi.Basic.congr.html#invcont_congr"><span class="id" type="definition">invcont_congr</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="genclassE"><span class="id" type="lemma">genclassE</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#genclass"><span class="id" type="definition">genclass</span></a> <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#gencongr"><span class="id" type="definition">gencongr</span></a> <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="gencongr_equiv"><span class="id" type="lemma">gencongr_equiv</span></a> : <span class="id" type="definition">equivalence_rel</span> <a class="idref" href="Combi.Basic.congr.html#gencongr"><span class="id" type="definition">gencongr</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="gencongr_is_congr"><span class="id" type="lemma">gencongr_is_congr</span></a> : <a class="idref" href="Combi.Basic.congr.html#congruence_rel"><span class="id" type="definition">congruence_rel</span></a> <a class="idref" href="Combi.Basic.congr.html#gencongr"><span class="id" type="definition">gencongr</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="rule_gencongr"><span class="id" type="lemma">rule_gencongr</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> → <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#gencongr"><span class="id" type="definition">gencongr</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="gencongr_min"><span class="id" type="lemma">gencongr_min</span></a> (<span class="id" type="var">r</span> : <span class="id" type="definition">rel</span> <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" type="definition">equivalence_rel</span> <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> → <a class="idref" href="Combi.Basic.congr.html#congruence_rel"><span class="id" type="definition">congruence_rel</span></a> <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> →<br/>
&nbsp;&nbsp;(<span class="id" type="keyword">∀</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> → <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a>) →<br/>
&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Combi.Basic.congr.html#gencongr"><span class="id" type="definition">gencongr</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> → <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="gencongr_ind"><span class="id" type="lemma">gencongr_ind</span></a> (<span class="id" type="var">P</span> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a> → <span class="id" type="keyword">Prop</span>) <span class="id" type="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Basic.congr.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> →<br/>
&nbsp;&nbsp;(<span class="id" type="keyword">∀</span> <span class="id" type="var">a</span> <span class="id" type="var">b1</span> <span class="id" type="var">c</span> <span class="id" type="var">b2</span>, <a class="idref" href="Combi.Basic.congr.html#P"><span class="id" type="variable">P</span></a> (<a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#b1"><span class="id" type="variable">b1</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#c"><span class="id" type="variable">c</span></a>) → <a class="idref" href="Combi.Basic.congr.html#b2"><span class="id" type="variable">b2</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#b1"><span class="id" type="variable">b1</span></a> → <a class="idref" href="Combi.Basic.congr.html#P"><span class="id" type="variable">P</span></a> (<a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#b2"><span class="id" type="variable">b2</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#c"><span class="id" type="variable">c</span></a>)) →<br/>
&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">y</span>, <a class="idref" href="Combi.Basic.congr.html#gencongr"><span class="id" type="definition">gencongr</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> → <a class="idref" href="Combi.Basic.congr.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="gencongr_invar"><span class="id" type="lemma">gencongr_invar</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <a class="idref" href="Combi.Basic.congr.html#gencongr"><span class="id" type="definition">gencongr</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a>→ <a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="projection">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.inv"><span class="id" type="variable">inv</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a>.<br/>

<br/>
<span class="id" type="keyword">CoInductive</span> <a name="Generated_EquivCongruence"><span class="id" type="inductive">Generated_EquivCongruence</span></a> (<span class="id" type="var">grel</span> : <span class="id" type="definition">rel</span> <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>) :=<br/>
&nbsp;&nbsp;<a name="GenCongr"><span class="id" type="constructor">GenCongr</span></a> : <span class="id" type="definition">equivalence_rel</span> <span class="id" type="var">grel</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Combi.Basic.congr.html#congruence_rel"><span class="id" type="definition">congruence_rel</span></a> <span class="id" type="var">grel</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" type="keyword">∀</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span>, <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> → <span class="id" type="var">grel</span> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a> ) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" type="keyword">∀</span> <span class="id" type="var">r</span> : <span class="id" type="definition">rel</span> <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="definition">equivalence_rel</span> <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> → <a class="idref" href="Combi.Basic.congr.html#congruence_rel"><span class="id" type="definition">congruence_rel</span></a> <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">∀</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> → <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <span class="id" type="var">grel</span> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> → <a class="idref" href="Combi.Basic.congr.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) → <a class="idref" href="Combi.Basic.congr.html#Generated_EquivCongruence"><span class="id" type="inductive">Generated_EquivCongruence</span></a> <span class="id" type="var">grel</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="gencongrP"><span class="id" type="lemma">gencongrP</span></a> : <a class="idref" href="Combi.Basic.congr.html#Generated_EquivCongruence"><span class="id" type="inductive">Generated_EquivCongruence</span></a> <a class="idref" href="Combi.Basic.congr.html#gencongr"><span class="id" type="definition">gencongr</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="gencongr_imply"><span class="id" type="lemma">gencongr_imply</span></a> <span class="id" type="var">r1</span> <span class="id" type="var">r2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Basic.congr.html#Generated_EquivCongruence"><span class="id" type="inductive">Generated_EquivCongruence</span></a> <a class="idref" href="Combi.Basic.congr.html#r1"><span class="id" type="variable">r1</span></a> → <a class="idref" href="Combi.Basic.congr.html#Generated_EquivCongruence"><span class="id" type="inductive">Generated_EquivCongruence</span></a> <a class="idref" href="Combi.Basic.congr.html#r2"><span class="id" type="variable">r2</span></a> →<br/>
&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Combi.Basic.congr.html#r1"><span class="id" type="variable">r1</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> → <a class="idref" href="Combi.Basic.congr.html#r2"><span class="id" type="variable">r2</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">Theorem</span> <a name="gencongr_unique"><span class="id" type="lemma">gencongr_unique</span></a> <span class="id" type="var">grel</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Basic.congr.html#Generated_EquivCongruence"><span class="id" type="inductive">Generated_EquivCongruence</span></a> <a class="idref" href="Combi.Basic.congr.html#grel"><span class="id" type="variable">grel</span></a> → <a class="idref" href="Combi.Basic.congr.html#grel"><span class="id" type="variable">grel</span></a> <span class="id" type="notation">=2</span> <a class="idref" href="Combi.Basic.congr.html#gencongr"><span class="id" type="definition">gencongr</span></a>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="gencongr_generic_ind"><span class="id" type="lemma">gencongr_generic_ind</span></a> <span class="id" type="var">grel</span> (<span class="id" type="var">P</span> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a> → <span class="id" type="keyword">Prop</span>) <span class="id" type="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Basic.congr.html#Generated_EquivCongruence"><span class="id" type="inductive">Generated_EquivCongruence</span></a> <a class="idref" href="Combi.Basic.congr.html#grel"><span class="id" type="variable">grel</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Basic.congr.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> →<br/>
&nbsp;&nbsp;(<span class="id" type="keyword">∀</span> <span class="id" type="var">a</span> <span class="id" type="var">b1</span> <span class="id" type="var">c</span> <span class="id" type="var">b2</span>, <a class="idref" href="Combi.Basic.congr.html#P"><span class="id" type="variable">P</span></a> (<a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#b1"><span class="id" type="variable">b1</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#c"><span class="id" type="variable">c</span></a>) → <a class="idref" href="Combi.Basic.congr.html#b2"><span class="id" type="variable">b2</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#b1"><span class="id" type="variable">b1</span></a> → <a class="idref" href="Combi.Basic.congr.html#P"><span class="id" type="variable">P</span></a> (<a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#b2"><span class="id" type="variable">b2</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#c"><span class="id" type="variable">c</span></a>)) →<br/>
&nbsp;&nbsp;<span class="id" type="keyword">∀</span> <span class="id" type="var">y</span>, <a class="idref" href="Combi.Basic.congr.html#grel"><span class="id" type="variable">grel</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a> → <a class="idref" href="Combi.Basic.congr.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Combi.Basic.congr.html#y"><span class="id" type="variable">y</span></a>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Combi.Basic.congr.html#CongruenceClosure"><span class="id" type="section">CongruenceClosure</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab11"></a><h1 class="section">Multi-homogeneous congruence rules</h1>

</div>
<div class="code">
<span class="id" type="keyword">Section</span> <a name="InvarContMultHom"><span class="id" type="section">InvarContMultHom</span></a>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="InvarContMultHom.Alph"><span class="id" type="variable">Alph</span></a> : <span class="id" type="abbreviation">eqType</span>.<br/>
<span class="id" type="keyword">Notation</span> <a name="word"><span class="id" type="abbreviation">word</span></a> := (<span class="id" type="definition">seq_eqType</span> <a class="idref" href="Combi.Basic.congr.html#InvarContMultHom.Alph"><span class="id" type="variable">Alph</span></a>).<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="InvarContMultHom.rule"><span class="id" type="variable">rule</span></a> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a> → <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>.<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="InvarContMultHom.Hmulthom"><span class="id" type="variable">Hmulthom</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">u</span> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>, <span class="id" type="definition">all</span> (<span class="id" type="definition">perm_eq</span> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a>) (<a class="idref" href="Combi.Basic.congr.html#InvarContMultHom.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="perm_eq_bound"><span class="id" type="lemma">perm_eq_bound</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>) (<span class="id" type="var">s</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" type="definition">all</span> (<span class="id" type="definition">perm_eq</span> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> → <span class="id" type="definition">uniq</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> → <span class="id" type="definition">size</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">≤</span> <span class="id" type="notation">(</span><span class="id" type="definition">size</span> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a><span class="id" type="notation">)`!</span>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="perm_invar"><span class="id" type="lemma">perm_invar</span></a> (<span class="id" type="var">x0</span> <span class="id" type="var">x</span> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>) : <span class="id" type="definition">perm_eq</span> <a class="idref" href="Combi.Basic.congr.html#x0"><span class="id" type="variable">x0</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> → <span class="id" type="definition">all</span> (<span class="id" type="definition">perm_eq</span> <a class="idref" href="Combi.Basic.congr.html#x0"><span class="id" type="variable">x0</span></a>) (<a class="idref" href="Combi.Basic.congr.html#InvarContMultHom.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="invcont_perm"><span class="id" type="definition">invcont_perm</span></a> := <a class="idref" href="Combi.Basic.congr.html#InvariantContext"><span class="id" type="constructor">InvariantContext</span></a> (@<span class="id" type="lemma">perm_eq_refl</span> <span class="id" type="var">_</span>) <a class="idref" href="Combi.Basic.congr.html#perm_invar"><span class="id" type="lemma">perm_invar</span></a> <a class="idref" href="Combi.Basic.congr.html#perm_eq_bound"><span class="id" type="lemma">perm_eq_bound</span></a>.<br/>

<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="InvarContMultHom.Hsym"><span class="id" type="variable">Hsym</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>, <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#InvarContMultHom.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> → <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> <span class="id" type="notation">\</span><span class="id" type="keyword">in</span> <a class="idref" href="Combi.Basic.congr.html#InvarContMultHom.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="InvarContMultHom.Hcongr"><span class="id" type="variable">Hcongr</span></a> : <a class="idref" href="Combi.Basic.congr.html#congruence_rule"><span class="id" type="definition">congruence_rule</span></a> <a class="idref" href="Combi.Basic.congr.html#InvarContMultHom.rule"><span class="id" type="variable">rule</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="perm_invar_congr"><span class="id" type="lemma">perm_invar_congr</span></a> <span class="id" type="var">u</span> (<span class="id" type="var">a</span> <span class="id" type="var">b1</span> <span class="id" type="var">b2</span> <span class="id" type="var">c</span> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="projection">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#invcont_perm"><span class="id" type="definition">invcont_perm</span></a> <a class="idref" href="Combi.Basic.congr.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="Combi.Basic.congr.html#b2"><span class="id" type="variable">b2</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="projection">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#invcont_perm"><span class="id" type="definition">invcont_perm</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> (<a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#b1"><span class="id" type="variable">b1</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#c"><span class="id" type="variable">c</span></a>) → <a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="projection">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#invcont_perm"><span class="id" type="definition">invcont_perm</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> (<a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#b2"><span class="id" type="variable">b2</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#c"><span class="id" type="variable">c</span></a>).<br/>
 
<br/>
<span class="id" type="keyword">Definition</span> <a name="gencongr_multhom"><span class="id" type="definition">gencongr_multhom</span></a> := <a class="idref" href="Combi.Basic.congr.html#gencongr"><span class="id" type="definition">gencongr</span></a> <a class="idref" href="Combi.Basic.congr.html#perm_invar_congr"><span class="id" type="lemma">perm_invar_congr</span></a>.<br/>
<span class="id" type="keyword">Definition</span> <a name="genclass_multhom"><span class="id" type="definition">genclass_multhom</span></a> := <a class="idref" href="Combi.Basic.congr.html#genclass"><span class="id" type="definition">genclass</span></a> <a class="idref" href="Combi.Basic.congr.html#perm_invar_congr"><span class="id" type="lemma">perm_invar_congr</span></a>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Combi.Basic.congr.html#InvarContMultHom"><span class="id" type="section">InvarContMultHom</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab12"></a><h1 class="section">Homogeneous congruence rules on a finite type</h1>

</div>
<div class="code">
<span class="id" type="keyword">Section</span> <a name="InvarContHom"><span class="id" type="section">InvarContHom</span></a>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="InvarContHom.Alph"><span class="id" type="variable">Alph</span></a> : <span class="id" type="abbreviation">finType</span>.<br/>
<span class="id" type="keyword">Notation</span> <a name="word"><span class="id" type="abbreviation">word</span></a> := (<span class="id" type="definition">seq_eqType</span> <a class="idref" href="Combi.Basic.congr.html#InvarContHom.Alph"><span class="id" type="variable">Alph</span></a>).<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="InvarContHom.rule"><span class="id" type="variable">rule</span></a> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a> → <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>.<br/>
<span class="id" type="keyword">Let</span> <a name="InvarContHom.szinvar"><span class="id" type="variable">szinvar</span></a> (<span class="id" type="var">u</span> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>) := <span class="id" type="notation">[</span><span class="id" type="notation">pred</span> <span class="id" type="var">v</span> <span class="id" type="notation">:</span> <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a> <span class="id" type="notation">|</span> <span class="id" type="definition">size</span> <span class="id" type="var">v</span> <span class="id" type="notation">==</span> <span class="id" type="definition">size</span> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a><span class="id" type="notation">]</span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="InvarContHom.Hhom"><span class="id" type="variable">Hhom</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">u</span> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>, <span class="id" type="definition">all</span> (<a class="idref" href="Combi.Basic.congr.html#InvarContHom.szinvar"><span class="id" type="variable">szinvar</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a>) (<a class="idref" href="Combi.Basic.congr.html#InvarContHom.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="size_bound"><span class="id" type="lemma">size_bound</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>) (<span class="id" type="var">s</span> : <span class="id" type="abbreviation">seq</span> <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" type="definition">all</span> (<a class="idref" href="Combi.Basic.congr.html#InvarContHom.szinvar"><span class="id" type="variable">szinvar</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> → <span class="id" type="definition">uniq</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> → <span class="id" type="definition">size</span> <a class="idref" href="Combi.Basic.congr.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="notation">≤</span> <span class="id" type="notation">#|</span><a class="idref" href="Combi.Basic.congr.html#InvarContHom.Alph"><span class="id" type="variable">Alph</span></a><span class="id" type="notation">|</span><span class="id" type="notation">^(</span><span class="id" type="definition">size</span> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a><span class="id" type="notation">)</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="size_invar"><span class="id" type="lemma">size_invar</span></a> (<span class="id" type="var">x0</span> <span class="id" type="var">x</span> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>) : <a class="idref" href="Combi.Basic.congr.html#InvarContHom.szinvar"><span class="id" type="variable">szinvar</span></a> <a class="idref" href="Combi.Basic.congr.html#x0"><span class="id" type="variable">x0</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> → <span class="id" type="definition">all</span> (<a class="idref" href="Combi.Basic.congr.html#InvarContHom.szinvar"><span class="id" type="variable">szinvar</span></a> <a class="idref" href="Combi.Basic.congr.html#x0"><span class="id" type="variable">x0</span></a>) (<a class="idref" href="Combi.Basic.congr.html#InvarContHom.rule"><span class="id" type="variable">rule</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>).<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="size_invar_refl"><span class="id" type="lemma">size_invar_refl</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>) : <a class="idref" href="Combi.Basic.congr.html#InvarContHom.szinvar"><span class="id" type="variable">szinvar</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Combi.Basic.congr.html#x"><span class="id" type="variable">x</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">Definition</span> <a name="invcont_size"><span class="id" type="definition">invcont_size</span></a> := <a class="idref" href="Combi.Basic.congr.html#InvariantContext"><span class="id" type="constructor">InvariantContext</span></a> <a class="idref" href="Combi.Basic.congr.html#size_invar_refl"><span class="id" type="lemma">size_invar_refl</span></a> <a class="idref" href="Combi.Basic.congr.html#size_invar"><span class="id" type="lemma">size_invar</span></a> <a class="idref" href="Combi.Basic.congr.html#size_bound"><span class="id" type="lemma">size_bound</span></a>.<br/>

<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="InvarContHom.Hcongr"><span class="id" type="variable">Hcongr</span></a> : <a class="idref" href="Combi.Basic.congr.html#congruence_rule"><span class="id" type="definition">congruence_rule</span></a> <a class="idref" href="Combi.Basic.congr.html#InvarContHom.rule"><span class="id" type="variable">rule</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="size_invar_congr"><span class="id" type="lemma">size_invar_congr</span></a> <span class="id" type="var">u</span> (<span class="id" type="var">a</span> <span class="id" type="var">b1</span> <span class="id" type="var">b2</span> <span class="id" type="var">c</span> : <a class="idref" href="Combi.Basic.congr.html#word"><span class="id" type="abbreviation">word</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="projection">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#invcont_size"><span class="id" type="definition">invcont_size</span></a> <a class="idref" href="Combi.Basic.congr.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="Combi.Basic.congr.html#b2"><span class="id" type="variable">b2</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="projection">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#invcont_size"><span class="id" type="definition">invcont_size</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> (<a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#b1"><span class="id" type="variable">b1</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#c"><span class="id" type="variable">c</span></a>) → <a class="idref" href="Combi.Basic.congr.html#invar"><span class="id" type="projection">invar</span></a> <a class="idref" href="Combi.Basic.congr.html#invcont_size"><span class="id" type="definition">invcont_size</span></a> <a class="idref" href="Combi.Basic.congr.html#u"><span class="id" type="variable">u</span></a> (<a class="idref" href="Combi.Basic.congr.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#b2"><span class="id" type="variable">b2</span></a> <span class="id" type="notation">++</span> <a class="idref" href="Combi.Basic.congr.html#c"><span class="id" type="variable">c</span></a>).<br/>
 
<br/>
<span class="id" type="keyword">Definition</span> <a name="gencongr_hom"><span class="id" type="definition">gencongr_hom</span></a> := <a class="idref" href="Combi.Basic.congr.html#gencongr"><span class="id" type="definition">gencongr</span></a> <a class="idref" href="Combi.Basic.congr.html#size_invar_congr"><span class="id" type="lemma">size_invar_congr</span></a>.<br/>
<span class="id" type="keyword">Definition</span> <a name="genclass_hom"><span class="id" type="definition">genclass_hom</span></a> := <a class="idref" href="Combi.Basic.congr.html#genclass"><span class="id" type="definition">genclass</span></a> <a class="idref" href="Combi.Basic.congr.html#size_invar_congr"><span class="id" type="lemma">size_invar_congr</span></a>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Combi.Basic.congr.html#InvarContHom"><span class="id" type="section">InvarContHom</span></a>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>