<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Combi.Combi.Dyckword: Dyck Words</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Combi.Combi.Dyckword: Dyck Words</h1>

<div class="code">
</div>

<div class="doc">

</div>
<div class="code">
</div>

<div class="doc">
<a name="lab16"></a><h1 class="section">Dyck Words</h1>


<div class="paragraph"> </div>

A <i>Dyck word</i> is a word on the two letter alphabet "(" and ")" which is well
parentesized. More formally

<div class="paragraph"> </div>

<ul class="doclist">
<li> for all prefix, the number of "(" is larger that the number of ")";

</li>
<li> the total number of "(" is equal to those of ")".

</li>
</ul>

<div class="paragraph"> </div>

We encode those words using:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a></span>      == a type with two values <span class="inlinecode"><span class="id" title="keyword">Open</span></span> and <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#Close"><span class="id" title="constructor">Close</span></a></span> and locally use
       the notations "<span class="inlinecode">{{</span>" and "<span class="inlinecode">}}</span>"

</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#GreeneInvariantsRule.w"><span class="id" title="variable">w</span></a></span>   == the difference between the number of "<span class="inlinecode">{{</span>" and "<span class="inlinecode">}}</span>"

</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#prefixes"><span class="id" title="definition">prefixes</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#GreeneInvariantsRule.w"><span class="id" title="variable">w</span></a></span> == the list of all the prefix of <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#GreeneInvariantsRule.w"><span class="id" title="variable">w</span></a></span>

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#GreeneInvariantsRule.w"><span class="id" title="variable">w</span></a></span> <span class="inlinecode"><span class="id" title="keyword">is</span></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#SetContainingBothLeft.Case.a"><span class="id" title="variable">a</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#Dyck_prefix"><span class="id" title="definition">Dyck_prefix</span></a></span> == for all prefix, the number of "<span class="inlinecode">{{</span>" is larger than
       the number of "<span class="inlinecode">}}</span>"

</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#GreeneInvariantsRule.w"><span class="id" title="variable">w</span></a></span> <span class="inlinecode"><span class="id" title="keyword">is</span></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#SetContainingBothLeft.Case.a"><span class="id" title="variable">a</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a></span> == <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#GreeneInvariantsRule.w"><span class="id" title="variable">w</span></a></span> is a Dyck word

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a></span>       == a Sigma-type for Dyck words. It is canonically a <span class="inlinecode"><a class="idref" href="Combi.Basic.ordtype.html#InhOrdFinType.countType"><span class="id" title="definition">countType</span></a></span>.

</li>
<li> <span class="inlinecode">[<a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a></span> <span class="inlinecode"><span class="id" title="keyword">of</span></span> <span class="inlinecode"><a class="idref" href="Combi.MPoly.Schur_altdef.html#BijectionExtTab.s"><span class="id" title="variable">s</span></a>]</span> == a Dyck word for the sequence <span class="inlinecode"><a class="idref" href="Combi.MPoly.Schur_altdef.html#BijectionExtTab.s"><span class="id" title="variable">s</span></a></span>; the proof is canonically
       infered.

</li>
<li> <span class="inlinecode">[<a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a></span> <span class="inlinecode"><span class="id" title="keyword">of</span></span> <span class="inlinecode"><a class="idref" href="Combi.MPoly.Schur_altdef.html#BijectionExtTab.s"><span class="id" title="variable">s</span></a></span> <span class="inlinecode"><span class="id" title="tactic">by</span></span> <span class="inlinecode"><span class="id" title="var">pf</span>]</span> == a Dyck word for the sequence <span class="inlinecode"><a class="idref" href="Combi.MPoly.Schur_altdef.html#BijectionExtTab.s"><span class="id" title="variable">s</span></a></span> using the proof <span class="inlinecode"><span class="id" title="var">pf</span></span>

</li>
<li> <span class="inlinecode">[<a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a></span> <span class="inlinecode">{{</span> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#D1"><span class="id" title="variable">D1</span></a></span> <span class="inlinecode">}}</span> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#D2"><span class="id" title="variable">D2</span></a>]</span> == if <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#D1"><span class="id" title="variable">D1</span></a></span> and <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#D2"><span class="id" title="variable">D2</span></a></span> are of type <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a></span> then the element
       term of type <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a></span> corresponding to the word "(D1)D2"

</li>
</ul>

<div class="paragraph"> </div>

Dyck words are in bijection with binary trees:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bintree"><span class="id" title="definition">Dyck_of_bintree</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.SymGroup.cycletype.html#DefsFiber.t"><span class="id" title="variable">t</span></a></span> == the image of the binary tree <span class="inlinecode"><a class="idref" href="Combi.SymGroup.cycletype.html#DefsFiber.t"><span class="id" title="variable">t</span></a></span> by the standard
       bijection from trees to Dyck words.

</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#bintree_of_Dyck"><span class="id" title="definition">bintree_of_Dyck</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.D"><span class="id" title="variable">D</span></a></span> == the converse bijection

</li>
</ul>

<div class="paragraph"> </div>

The number of Dyck word is the so-called Catalan numbers:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#Catalan"><span class="id" title="definition">Catalan</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.MPoly.Schur_altdef.html#BijectionExtTab.n"><span class="id" title="variable">n</span></a></span>  == the <span class="inlinecode"><a class="idref" href="Combi.MPoly.Schur_altdef.html#BijectionExtTab.n"><span class="id" title="variable">n</span></a></span>-th Catalan number <span class="inlinecode">'<a class="idref" href="ALEA.Qmeasure.html#OperDistr.C"><span class="id" title="variable">C</span></a>(<a class="idref" href="Combi.MPoly.Schur_altdef.html#BijectionExtTab.n"><span class="id" title="variable">n</span></a>.*2,</span> <span class="inlinecode"><a class="idref" href="Combi.MPoly.Schur_altdef.html#BijectionExtTab.n"><span class="id" title="variable">n</span></a>)</span> <span class="inlinecode">%/</span> <span class="inlinecode"><a class="idref" href="Combi.MPoly.Schur_altdef.html#BijectionExtTab.n"><span class="id" title="variable">n</span></a>.+1</span>

</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#Dyck_hsz"><span class="id" title="definition">Dyck_hsz</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.MPoly.Schur_altdef.html#BijectionExtTab.n"><span class="id" title="variable">n</span></a></span> == the set of tuple of half size n which are Dyck words.

</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#bal_hsz"><span class="id" title="definition">bal_hsz</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.MPoly.Schur_altdef.html#BijectionExtTab.n"><span class="id" title="variable">n</span></a></span>  == the set of tuple of half size n which are balanced words.

</li>
</ul>

<div class="paragraph"> </div>

We prove bijectively the equality with catalan binomial formula, using the
rotation trick: there is a (n+1) to 1 map from balanced words to Dyck words.

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#minh"><span class="id" title="definition">minh</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#GreeneInvariantsRule.w"><span class="id" title="variable">w</span></a></span>     == the minimal height of prefixes of <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#GreeneInvariantsRule.w"><span class="id" title="variable">w</span></a></span>

</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#pfminh"><span class="id" title="definition">pfminh</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#GreeneInvariantsRule.w"><span class="id" title="variable">w</span></a></span>   == the first position where the minimal height is reached.

</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bal"><span class="id" title="definition">Dyck_of_bal</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#GreeneInvariantsRule.w"><span class="id" title="variable">w</span></a></span> == given a balanced word <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#GreeneInvariantsRule.w"><span class="id" title="variable">w</span></a></span> returns the unique Dyck word
       <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.D"><span class="id" title="variable">D</span></a></span> such that <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.D"><span class="id" title="variable">D</span></a>)</span> is a rotation of <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#GreeneInvariantsRule.w"><span class="id" title="variable">w</span></a>)</span>

</li>
<li> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#bal_of_Dyck"><span class="id" title="definition">bal_of_Dyck</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal.rt"><span class="id" title="variable">rt</span></a></span> <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#GreeneInvariantsRule.w"><span class="id" title="variable">w</span></a></span> == the word obtained by rotating <span class="inlinecode"><a class="idref" href="Combi.LRrule.Greene_inv.html#GreeneInvariantsRule.w"><span class="id" title="variable">w</span></a>)</span> by <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal.rt"><span class="id" title="variable">rt</span></a></span> and
       removing the last letter.

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode"><span class="id" title="var">bal_part</span></span> <span class="inlinecode"><a class="idref" href="Combi.MPoly.Schur_altdef.html#BijectionExtTab.n"><span class="id" title="variable">n</span></a></span> == the partition of balanced words given by the fiber of the
       <span class="inlinecode"><a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bal"><span class="id" title="definition">Dyck_of_bal</span></a></span> map. The main argument is to show that all the fibers
       have the same cardinality.
 
</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">mathcomp.ssreflect.ssreflect</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Combi.SSRcomplements.tools.html#"><span class="id" title="library">tools</span></a> <a class="idref" href="Combi.Basic.combclass.html#"><span class="id" title="library">combclass</span></a> <a class="idref" href="Combi.Combi.bintree.html#"><span class="id" title="library">bintree</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
</div>

<div class="doc">
SSreflect complement. TODO: move elsewhere 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="take_take"><span class="id" title="lemma">take_take</span></a> (<span class="id" title="var">T</span> : <span class="id" title="keyword">Type</span>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> (<span class="id" title="var">s</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="Combi.Combi.Dyckword.html#T"><span class="id" title="variable">T</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="Combi.Combi.Dyckword.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="take_drop"><span class="id" title="lemma">take_drop</span></a> (<span class="id" title="var">T</span> : <span class="id" title="keyword">Type</span>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> (<span class="id" title="var">s</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="Combi.Combi.Dyckword.html#T"><span class="id" title="variable">T</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> (<span class="id" title="definition">drop</span> <a class="idref" href="Combi.Combi.Dyckword.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">drop</span> <a class="idref" href="Combi.Combi.Dyckword.html#j"><span class="id" title="variable">j</span></a> (<span class="id" title="definition">take</span> (<a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">+</span> <a class="idref" href="Combi.Combi.Dyckword.html#j"><span class="id" title="variable">j</span></a>) <a class="idref" href="Combi.Combi.Dyckword.html#s"><span class="id" title="variable">s</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="take_addn"><span class="id" title="lemma">take_addn</span></a> (<span class="id" title="var">T</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">s</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="Combi.Combi.Dyckword.html#T"><span class="id" title="variable">T</span></a>) <span class="id" title="var">n</span> <span class="id" title="var">m</span> :<br/>
&nbsp;&nbsp;<span class="id" title="definition">take</span> (<a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">+</span> <a class="idref" href="Combi.Combi.Dyckword.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="Combi.Combi.Dyckword.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="notation">++</span> <span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#m"><span class="id" title="variable">m</span></a> (<span class="id" title="definition">drop</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#s"><span class="id" title="variable">s</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="take_nseq"><span class="id" title="lemma">take_nseq</span></a> (<span class="id" title="var">T</span> : <span class="id" title="keyword">Type</span>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> (<span class="id" title="var">l</span> : <a class="idref" href="Combi.Combi.Dyckword.html#T"><span class="id" title="variable">T</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="Combi.Combi.Dyckword.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> (<span class="id" title="definition">nseq</span> <a class="idref" href="Combi.Combi.Dyckword.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">nseq</span> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#l"><span class="id" title="variable">l</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="card_preim_nth"><span class="id" title="lemma">card_preim_nth</span></a> (<span class="id" title="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">T</span> : <span class="id" title="abbreviation">eqType</span>) (<span class="id" title="var">s</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="Combi.Combi.Dyckword.html#T"><span class="id" title="variable">T</span></a>) (<span class="id" title="var">P</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#T"><span class="id" title="variable">T</span></a>) (<span class="id" title="var">u</span> : <a class="idref" href="Combi.Combi.Dyckword.html#T"><span class="id" title="variable">T</span></a>):<br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="notation">#|</span><span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">i</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_m</span> <span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#preim"><span class="id" title="definition">preim</span></a> (<span class="id" title="definition">nth</span> <a class="idref" href="Combi.Combi.Dyckword.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="Combi.Combi.Dyckword.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a><span class="id" title="notation">]</span><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">count</span> <a class="idref" href="Combi.Combi.Dyckword.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="PreimPartition"><span class="id" title="section">PreimPartition</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variables</span> (<a name="PreimPartition.T"><span class="id" title="variable">T</span></a> <a name="PreimPartition.rT"><span class="id" title="variable">rT</span></a> : <span class="id" title="abbreviation">finType</span>) (<a name="PreimPartition.f"><span class="id" title="variable">f</span></a> : <a class="idref" href="Combi.Combi.Dyckword.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#rT"><span class="id" title="variable">rT</span></a>) (<a name="PreimPartition.D"><span class="id" title="variable">D</span></a> : <span class="id" title="notation">{</span><span class="id" title="notation">set</span> <a class="idref" href="Combi.Combi.Dyckword.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">}</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="mem_preim_partition"><span class="id" title="lemma">mem_preim_partition</span></a> (<span class="id" title="var">B</span> : <span class="id" title="notation">{</span><span class="id" title="notation">set</span> <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.T"><span class="id" title="variable">T</span></a><span class="id" title="notation">}</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#46c9e8232fa09401e24f1934bb65029f"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#46c9e8232fa09401e24f1934bb65029f"><span class="id" title="notation">in</span></a> <span class="id" title="definition">preim_partition</span> <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">x0</span> : <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="Combi.Combi.Dyckword.html#x0"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#46c9e8232fa09401e24f1934bb65029f"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#46c9e8232fa09401e24f1934bb65029f"><span class="id" title="notation">in</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="Combi.Combi.Dyckword.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">:&amp;:</span> <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">@^-1:</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#x0"><span class="id" title="variable">x0</span></a><span class="id" title="notation">]</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="imset_transversal_preim"><span class="id" title="lemma">imset_transversal_preim</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">@:</span> <span class="id" title="notation">(</span><span class="id" title="definition">transversal</span> (<span class="id" title="definition">preim_partition</span> <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.D"><span class="id" title="variable">D</span></a>) <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">@:</span> <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.D"><span class="id" title="variable">D</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="card_preim_partition"><span class="id" title="lemma">card_preim_partition</span></a> : <span class="id" title="notation">#|</span><span class="id" title="definition">preim_partition</span> <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">#|</span><a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">@:</span> <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">|</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Combi.Combi.Dyckword.html#PreimPartition"><span class="id" title="section">PreimPartition</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab17"></a><h1 class="section">Braces and Dyck words</h1>

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="brace"><span class="id" title="inductive">brace</span></a> : <span class="id" title="keyword">Set</span> := | <a name="Open"><span class="id" title="constructor">Open</span></a> : <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a> | <a name="Close"><span class="id" title="constructor">Close</span></a> : <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="bool_of_brace"><span class="id" title="definition">bool_of_brace</span></a> <span class="id" title="var">b</span> := <span class="id" title="keyword">if</span> <a class="idref" href="Combi.Combi.Dyckword.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="brace_of_bool"><span class="id" title="definition">brace_of_bool</span></a> <span class="id" title="var">b</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssreflect.html#0348819abaa88c2cd747e8fa60dde7ae"><span class="id" title="notation">if</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssreflect.html#0348819abaa88c2cd747e8fa60dde7ae"><span class="id" title="notation">then</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssreflect.html#0348819abaa88c2cd747e8fa60dde7ae"><span class="id" title="notation">else</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="bool_of_braceK"><span class="id" title="lemma">bool_of_braceK</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrfun.html#cancel"><span class="id" title="definition">cancel</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#bool_of_brace"><span class="id" title="definition">bool_of_brace</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#brace_of_bool"><span class="id" title="definition">brace_of_bool</span></a>.<br/>
 <span class="id" title="keyword">Lemma</span> <a name="brace_of_boolK"><span class="id" title="lemma">brace_of_boolK</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrfun.html#cancel"><span class="id" title="definition">cancel</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#brace_of_bool"><span class="id" title="definition">brace_of_bool</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#bool_of_brace"><span class="id" title="definition">bool_of_brace</span></a>.<br/>
 
<br/>
<span class="id" title="keyword">Definition</span> <a name="brace_eqMixin"><span class="id" title="definition">brace_eqMixin</span></a> := <span class="id" title="definition">InjEqMixin</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrfun.html#can_inj"><span class="id" title="lemma">can_inj</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#bool_of_braceK"><span class="id" title="lemma">bool_of_braceK</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">brace_eqType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="abbreviation">EqType</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#brace_eqMixin"><span class="id" title="definition">brace_eqMixin</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="brace_choiceMixin"><span class="id" title="definition">brace_choiceMixin</span></a> := <span class="id" title="definition">CanChoiceMixin</span> <a class="idref" href="Combi.Combi.Dyckword.html#bool_of_braceK"><span class="id" title="lemma">bool_of_braceK</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">brace_choiceType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="abbreviation">ChoiceType</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#brace_choiceMixin"><span class="id" title="definition">brace_choiceMixin</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="brace_countMixin"><span class="id" title="definition">brace_countMixin</span></a> := <span class="id" title="definition">CanCountMixin</span> <a class="idref" href="Combi.Combi.Dyckword.html#bool_of_braceK"><span class="id" title="lemma">bool_of_braceK</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">brace_countType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="abbreviation">CountType</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#brace_countMixin"><span class="id" title="definition">brace_countMixin</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="brace_finMixin"><span class="id" title="definition">brace_finMixin</span></a> := <span class="id" title="definition">CanFinMixin</span> <a class="idref" href="Combi.Combi.Dyckword.html#bool_of_braceK"><span class="id" title="lemma">bool_of_braceK</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">brace_finType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="abbreviation">FinType</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#brace_finMixin"><span class="id" title="definition">brace_finMixin</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="size_count_braceE"><span class="id" title="lemma">size_count_braceE</span></a> (<span class="id" title="var">w</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">count_mem</span> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <span class="id" title="notation">+</span> <span class="id" title="abbreviation">count_mem</span> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">GRing.Theory</span> <span class="id" title="var">Num.Theory</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">int_scope</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">ring_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab18"></a><h2 class="section">Height of a word</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="Defs"><span class="id" title="section">Defs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="height"><span class="id" title="definition">height</span></a> <span class="id" title="var">w</span> : <span class="id" title="inductive">int</span> := <span class="id" title="constructor">Posz</span> (<span class="id" title="abbreviation">count_mem</span> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>) <span class="id" title="notation">-</span> <span class="id" title="constructor">Posz</span> (<span class="id" title="abbreviation">count_mem</span> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="height_nil"><span class="id" title="lemma">height_nil</span></a> : <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <span class="id" title="notation">[::]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 0.<br/>
 
<br/>
<span class="id" title="keyword">Lemma</span> <a name="height_cons"><span class="id" title="lemma">height_cons</span></a> <span class="id" title="var">l</span> <span class="id" title="var">v</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<a class="idref" href="Combi.Combi.Dyckword.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">::</span> <a class="idref" href="Combi.Combi.Dyckword.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssreflect.html#0348819abaa88c2cd747e8fa60dde7ae"><span class="id" title="notation">if</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">==</span> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssreflect.html#0348819abaa88c2cd747e8fa60dde7ae"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssreflect.html#0348819abaa88c2cd747e8fa60dde7ae"><span class="id" title="notation">else</span></a> -1<span class="id" title="notation">)</span> <span class="id" title="notation">+</span> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#v"><span class="id" title="variable">v</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="height_rcons"><span class="id" title="lemma">height_rcons</span></a> <span class="id" title="var">v</span> <span class="id" title="var">l</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">rcons</span> <a class="idref" href="Combi.Combi.Dyckword.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">+</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssreflect.html#0348819abaa88c2cd747e8fa60dde7ae"><span class="id" title="notation">if</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">==</span> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssreflect.html#0348819abaa88c2cd747e8fa60dde7ae"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssreflect.html#0348819abaa88c2cd747e8fa60dde7ae"><span class="id" title="notation">else</span></a> -1<span class="id" title="notation">)</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="height_cat"><span class="id" title="lemma">height_cat</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> : <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<a class="idref" href="Combi.Combi.Dyckword.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="notation">++</span> <a class="idref" href="Combi.Combi.Dyckword.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="notation">+</span> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#v"><span class="id" title="variable">v</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="height_simpl"><span class="id" title="definition">height_simpl</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Combi.Combi.Dyckword.html#height_cons"><span class="id" title="lemma">height_cons</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#height_rcons"><span class="id" title="lemma">height_rcons</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#height_cat"><span class="id" title="lemma">height_cat</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#height_nil"><span class="id" title="lemma">height_nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="height_drop"><span class="id" title="lemma">height_drop</span></a> <span class="id" title="var">n</span> <span class="id" title="var">u</span> : <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">drop</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#u"><span class="id" title="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="notation">-</span> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#u"><span class="id" title="variable">u</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="height_rev"><span class="id" title="lemma">height_rev</span></a> <span class="id" title="var">u</span> : <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">rev</span> <a class="idref" href="Combi.Combi.Dyckword.html#u"><span class="id" title="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#u"><span class="id" title="variable">u</span></a>.<br/>
 
<br/>
<span class="id" title="keyword">Lemma</span> <a name="height_nseq"><span class="id" title="lemma">height_nseq</span></a> <span class="id" title="var">n</span> <span class="id" title="var">b</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">nseq</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">Posz</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">×</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssreflect.html#0348819abaa88c2cd747e8fa60dde7ae"><span class="id" title="notation">if</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="notation">==</span> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssreflect.html#0348819abaa88c2cd747e8fa60dde7ae"><span class="id" title="notation">then</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssreflect.html#0348819abaa88c2cd747e8fa60dde7ae"><span class="id" title="notation">else</span></a> -1<span class="id" title="notation">)</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="prefixes"><span class="id" title="definition">prefixes</span></a> <span class="id" title="var">w</span> := <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <span class="id" title="notation">|</span> <span class="id" title="var">n</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="definition">iota</span> 0 <span class="id" title="notation">(</span><span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a><span class="id" title="notation">).+1</span><span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="take_prefixes"><span class="id" title="lemma">take_prefixes</span></a> <span class="id" title="var">w</span> <span class="id" title="var">i</span> : <span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#46c9e8232fa09401e24f1934bb65029f"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#46c9e8232fa09401e24f1934bb65029f"><span class="id" title="notation">in</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#prefixes"><span class="id" title="definition">prefixes</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="mem_prefixesP"><span class="id" title="lemma">mem_prefixesP</span></a> <span class="id" title="var">w</span> <span class="id" title="var">p</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>) (<a class="idref" href="Combi.Combi.Dyckword.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#46c9e8232fa09401e24f1934bb65029f"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#46c9e8232fa09401e24f1934bb65029f"><span class="id" title="notation">in</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#prefixes"><span class="id" title="definition">prefixes</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab19"></a><h2 class="section">Definitions</h2>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="Dyck_prefix"><span class="id" title="definition">Dyck_prefix</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#3838d61fb3e8125493e649946f677b04"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#3838d61fb3e8125493e649946f677b04"><span class="id" title="notation">qualify</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#3838d61fb3e8125493e649946f677b04"><span class="id" title="notation">a</span></a> <span class="id" title="var">w</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#3838d61fb3e8125493e649946f677b04"><span class="id" title="notation">:</span></a> <span class="id" title="abbreviation">seq</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#3838d61fb3e8125493e649946f677b04"><span class="id" title="notation">|</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="definition">all</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a> ⇒ <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="notation">≥</span> 0) (<a class="idref" href="Combi.Combi.Dyckword.html#prefixes"><span class="id" title="definition">prefixes</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#3838d61fb3e8125493e649946f677b04"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="Dyck_word"><span class="id" title="definition">Dyck_word</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#3838d61fb3e8125493e649946f677b04"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#3838d61fb3e8125493e649946f677b04"><span class="id" title="notation">qualify</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#3838d61fb3e8125493e649946f677b04"><span class="id" title="notation">a</span></a> <span class="id" title="var">w</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#3838d61fb3e8125493e649946f677b04"><span class="id" title="notation">:</span></a> <span class="id" title="abbreviation">seq</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#3838d61fb3e8125493e649946f677b04"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_prefix"><span class="id" title="definition">Dyck_prefix</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <span class="id" title="notation">==</span> 0<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#3838d61fb3e8125493e649946f677b04"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Dyck_prefixP"><span class="id" title="lemma">Dyck_prefixP</span></a> <span class="id" title="var">w</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<span class="id" title="keyword">∀</span> <span class="id" title="var">n</span>, <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>) <span class="id" title="notation">≥</span> 0) (<a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_prefix"><span class="id" title="definition">Dyck_prefix</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Dyck_wordP"><span class="id" title="lemma">Dyck_wordP</span></a> <span class="id" title="var">w</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">n</span>, <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>) <span class="id" title="notation">≥</span> 0<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="height_take_leq"><span class="id" title="lemma">height_take_leq</span></a> (<span class="id" title="var">h</span> : <span class="id" title="inductive">int</span>) <span class="id" title="var">w</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="Combi.Combi.Dyckword.html#h"><span class="id" title="variable">h</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, (<a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">≤</span> <span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#h"><span class="id" title="variable">h</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Dyck_word_OwC"><span class="id" title="lemma">Dyck_word_OwC</span></a> <span class="id" title="var">w</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> <span class="id" title="notation">::</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <span class="id" title="notation">++</span> <span class="id" title="notation">[::</span> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Dyck_word_cat"><span class="id" title="lemma">Dyck_word_cat</span></a> <span class="id" title="var">w1</span> <span class="id" title="var">w2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#w1"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w2"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w1"><span class="id" title="variable">w1</span></a> <span class="id" title="notation">++</span> <a class="idref" href="Combi.Combi.Dyckword.html#w2"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="Dyck_word_flatten"><span class="id" title="lemma">Dyck_word_flatten</span></a> <span class="id" title="var">l</span> :<br/>
&nbsp;&nbsp;<span class="id" title="definition">all</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a>) <a class="idref" href="Combi.Combi.Dyckword.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="definition">flatten</span> <a class="idref" href="Combi.Combi.Dyckword.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a>.<br/>
 
<br/>
<span class="id" title="keyword">Lemma</span> <a name="Dyck_word_OwCw"><span class="id" title="lemma">Dyck_word_OwCw</span></a> <span class="id" title="var">w1</span> <span class="id" title="var">w2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#w1"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w2"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> <span class="id" title="notation">::</span> <a class="idref" href="Combi.Combi.Dyckword.html#w1"><span class="id" title="variable">w1</span></a> <span class="id" title="notation">++</span> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">::</span> <a class="idref" href="Combi.Combi.Dyckword.html#w2"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Combi.Combi.Dyckword.html#Defs"><span class="id" title="section">Defs</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab20"></a><h2 class="section">Sigma type for Dyck words</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="DyckType"><span class="id" title="section">DyckType</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a name="Dyck"><span class="id" title="record">Dyck</span></a> := <a name="DyckWord"><span class="id" title="constructor">DyckWord</span></a> {<a name="dyckword"><span class="id" title="projection">dyckword</span></a> :&gt; <span class="id" title="abbreviation">seq</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="is_dyckword"><span class="id" title="projection">is_dyckword</span></a> :&gt; <a class="idref" href="Combi.Combi.Dyckword.html#dyckword"><span class="id" title="method">dyckword</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">Dyck_subType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="notation">[</span><span class="id" title="notation">subType</span> <span class="id" title="notation">for</span> <a class="idref" href="Combi.Combi.Dyckword.html#dyckword"><span class="id" title="projection">dyckword</span></a><span class="id" title="notation">]</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="Dyck_eqMixin"><span class="id" title="definition">Dyck_eqMixin</span></a> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="notation">[</span><span class="id" title="notation">eqMixin</span> <span class="id" title="notation">of</span> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a> <span class="id" title="notation">by</span> <span class="id" title="notation">&lt;:]</span>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">Dyck_eqType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="abbreviation">EqType</span> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_eqMixin"><span class="id" title="definition">Dyck_eqMixin</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="Dyck_choiceMixin"><span class="id" title="definition">Dyck_choiceMixin</span></a> := <span class="id" title="notation">[</span><span class="id" title="notation">choiceMixin</span> <span class="id" title="notation">of</span> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a> <span class="id" title="notation">by</span> <span class="id" title="notation">&lt;:]</span>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">Dyck_choiceType</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="abbreviation">ChoiceType</span> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_choiceMixin"><span class="id" title="definition">Dyck_choiceMixin</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="Dyck_countMixin"><span class="id" title="definition">Dyck_countMixin</span></a> := <span class="id" title="notation">[</span><span class="id" title="notation">countMixin</span> <span class="id" title="notation">of</span> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a> <span class="id" title="notation">by</span> <span class="id" title="notation">&lt;:]</span>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">Dyck_countType</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="abbreviation">CountType</span> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_countMixin"><span class="id" title="definition">Dyck_countMixin</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">D</span> : <a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="DyckP"><span class="id" title="lemma">DyckP</span></a> <span class="id" title="var">D</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">(</span></a><a class="idref" href="Combi.Combi.Dyckword.html#dyckword"><span class="id" title="projection">dyckword</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a>.<br/>
 <span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">DyckP</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="dyck"><span class="id" title="definition">dyck</span></a> <span class="id" title="var">D</span> <span class="id" title="var">mkD</span> : <a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#mkD"><span class="id" title="variable">mkD</span></a> (<span class="id" title="keyword">let</span>: <a class="idref" href="Combi.Combi.Dyckword.html#DyckWord"><span class="id" title="constructor">DyckWord</span></a> <span class="id" title="var">_</span> <span class="id" title="var">DP</span> := <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="keyword">return</span> <a class="idref" href="Combi.Combi.Dyckword.html#dyckword"><span class="id" title="projection">dyckword</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">DP</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="dyckE"><span class="id" title="lemma">dyckE</span></a> <span class="id" title="var">D</span> : <a class="idref" href="Combi.Combi.Dyckword.html#dyck"><span class="id" title="definition">dyck</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">sP</span> ⇒ @<a class="idref" href="Combi.Combi.Dyckword.html#DyckWord"><span class="id" title="constructor">DyckWord</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#sP"><span class="id" title="variable">sP</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a>.<br/>
 
<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">nil_Dyck</span> := (@<a class="idref" href="Combi.Combi.Dyckword.html#DyckWord"><span class="id" title="constructor">DyckWord</span></a> <span class="id" title="notation">[::]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#is_true_true"><span class="id" title="lemma">is_true_true</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">cat_Dyck</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> := <a class="idref" href="Combi.Combi.Dyckword.html#DyckWord"><span class="id" title="constructor">DyckWord</span></a> (<a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word_cat"><span class="id" title="lemma">Dyck_word_cat</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D2"><span class="id" title="variable">D2</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">join_Dyck</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> := <a class="idref" href="Combi.Combi.Dyckword.html#DyckWord"><span class="id" title="constructor">DyckWord</span></a> (<a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word_OwCw"><span class="id" title="lemma">Dyck_word_OwCw</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D2"><span class="id" title="variable">D2</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckType"><span class="id" title="section">DyckType</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="2126230bfbbb4f40473d0b876a682c63"><span class="id" title="notation">&quot;</span></a>[ 'Dyck' 'of' s ]" := (<a class="idref" href="Combi.Combi.Dyckword.html#dyck"><span class="id" title="definition">dyck</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">sP</span> ⇒ @<a class="idref" href="Combi.Combi.Dyckword.html#DyckWord"><span class="id" title="constructor">DyckWord</span></a> <span class="id" title="var">s</span> <a class="idref" href="Combi.Combi.Dyckword.html#sP"><span class="id" title="variable">sP</span></a>))<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9, <span class="id" title="var">format</span> "[ 'Dyck'  'of'  s ]") : <span class="id" title="var">form_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="4a80aa751398ba3767646d1e882a57bd"><span class="id" title="notation">&quot;</span></a>[ 'Dyck' 'of' s 'by' pf ]" := (@<a class="idref" href="Combi.Combi.Dyckword.html#DyckWord"><span class="id" title="constructor">DyckWord</span></a> <span class="id" title="var">s</span> <span class="id" title="var">pf</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9, <span class="id" title="var">format</span> "[ 'Dyck'  'of'  s  'by'  pf ]") : <span class="id" title="var">form_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">&quot;</span></a>[ 'Dyck' {{ D1 }} D2 ]" := (<a class="idref" href="Combi.Combi.Dyckword.html#join_Dyck"><span class="id" title="definition">join_Dyck</span></a> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 8, <span class="id" title="var">format</span> "[ 'Dyck'  {{  D1  }}  D2 ]",<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">D1</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>) : <span class="id" title="var">form_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab21"></a><h1 class="section">Standard factorization of Dyck words</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="DyckFactor"><span class="id" title="section">DyckFactor</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">D</span> : <a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Dyck_cut_ex"><span class="id" title="lemma">Dyck_cut_ex</span></a> <span class="id" title="var">D</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Combi.Combi.Dyckword.html#2126230bfbbb4f40473d0b876a682c63"><span class="id" title="notation">[</span></a><a class="idref" href="Combi.Combi.Dyckword.html#2126230bfbbb4f40473d0b876a682c63"><span class="id" title="notation">Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#2126230bfbbb4f40473d0b876a682c63"><span class="id" title="notation">of</span></a> <span class="id" title="notation">[::]</span><a class="idref" href="Combi.Combi.Dyckword.html#2126230bfbbb4f40473d0b876a682c63"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> (<a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">!=</span> 0)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a>) <span class="id" title="notation">==</span> 0<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="factor_Dyck"><span class="id" title="lemma">factor_Dyck</span></a> <span class="id" title="var">D</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Combi.Combi.Dyckword.html#2126230bfbbb4f40473d0b876a682c63"><span class="id" title="notation">[</span></a><a class="idref" href="Combi.Combi.Dyckword.html#2126230bfbbb4f40473d0b876a682c63"><span class="id" title="notation">Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#2126230bfbbb4f40473d0b876a682c63"><span class="id" title="notation">of</span></a> <span class="id" title="notation">[::]</span><a class="idref" href="Combi.Combi.Dyckword.html#2126230bfbbb4f40473d0b876a682c63"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">{</span></a> <span class="id" title="var">DD</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">:</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">|</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">[</span></a><a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">{{</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#DD"><span class="id" title="variable">DD</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrfun.html#c4877bbfe60d8f22b47ac99ace86216a"><span class="id" title="notation">.1</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">}}</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#DD"><span class="id" title="variable">DD</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrfun.html#f4827404159513e7fd691b60b7877737"><span class="id" title="notation">.2</span></a><a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="join_Dyck_inj"><span class="id" title="lemma">join_Dyck_inj</span></a> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">[</span></a><a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">{{</span></a><a class="idref" href="Combi.Combi.Dyckword.html#D1"><span class="id" title="variable">D1</span></a><a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">}}</span></a><a class="idref" href="Combi.Combi.Dyckword.html#D2"><span class="id" title="variable">D2</span></a><a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">[</span></a><a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">{{</span></a><a class="idref" href="Combi.Combi.Dyckword.html#E1"><span class="id" title="variable">E1</span></a><a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">}}</span></a><a class="idref" href="Combi.Combi.Dyckword.html#E2"><span class="id" title="variable">E2</span></a><a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Combi.Combi.Dyckword.html#D1"><span class="id" title="variable">D1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D2"><span class="id" title="variable">D2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Combi.Combi.Dyckword.html#E1"><span class="id" title="variable">E1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#E2"><span class="id" title="variable">E2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckFactor"><span class="id" title="section">DyckFactor</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab22"></a><h2 class="section">Induction on Dyck words following the standard factorization</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="DyckSetInd"><span class="id" title="section">DyckSetInd</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">D</span> : <a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="DyckSetInd.P"><span class="id" title="variable">P</span></a> : <a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Hypotheses</span> (<a name="DyckSetInd.Pnil"><span class="id" title="variable">Pnil</span></a> : <a class="idref" href="Combi.Combi.Dyckword.html#DyckSetInd.P"><span class="id" title="variable">P</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#nil_Dyck"><span class="id" title="definition">nil_Dyck</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="DyckSetInd.Pcons"><span class="id" title="variable">Pcons</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span>, <a class="idref" href="Combi.Combi.Dyckword.html#DyckSetInd.P"><span class="id" title="variable">P</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#DyckSetInd.P"><span class="id" title="variable">P</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D2"><span class="id" title="variable">D2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#DyckSetInd.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">[</span></a><a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">{{</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">}}</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D2"><span class="id" title="variable">D2</span></a><a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">]</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="Dyck_ind"><span class="id" title="lemma">Dyck_ind</span></a> <span class="id" title="var">D</span> : <a class="idref" href="Combi.Combi.Dyckword.html#DyckSetInd.P"><span class="id" title="variable">P</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckSetInd"><span class="id" title="section">DyckSetInd</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab23"></a><h2 class="section">Examples of application of the induction principle</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="Dyck_size_even"><span class="id" title="lemma">Dyck_size_even</span></a> (<span class="id" title="var">D</span> : <a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#4b80c70cdb231351c5e129ba61f7f956"><span class="id" title="notation">~~</span></a> <span class="id" title="definition">odd</span> (<span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="factor_Dyck_seq"><span class="id" title="lemma">factor_Dyck_seq</span></a> <span class="id" title="var">D</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">{</span></a> <span class="id" title="var">DS</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">:</span></a> <span class="id" title="abbreviation">seq</span> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck"><span class="id" title="record">Dyck</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">|</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">foldr</span> <a class="idref" href="Combi.Combi.Dyckword.html#join_Dyck"><span class="id" title="definition">join_Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#nil_Dyck"><span class="id" title="definition">nil_Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#DS"><span class="id" title="variable">DS</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="foldr_join_Dyck_inj"><span class="id" title="lemma">foldr_join_Dyck_inj</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrfun.html#injective"><span class="id" title="definition">injective</span></a> (<span class="id" title="definition">foldr</span> <a class="idref" href="Combi.Combi.Dyckword.html#join_Dyck"><span class="id" title="definition">join_Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#nil_Dyck"><span class="id" title="definition">nil_Dyck</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="size_foldr_join_Dyck"><span class="id" title="lemma">size_foldr_join_Dyck</span></a> <span class="id" title="var">DS</span> :<br/>
&nbsp;&nbsp;(<span class="id" title="definition">size</span> (<span class="id" title="definition">foldr</span> <a class="idref" href="Combi.Combi.Dyckword.html#join_Dyck"><span class="id" title="definition">join_Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#nil_Dyck"><span class="id" title="definition">nil_Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#DS"><span class="id" title="variable">DS</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="definition">sumn</span> (<span class="id" title="definition">map</span> (<span class="id" title="definition">size</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrfun.html#1b4394c5c1740ef3dc9e4224084970bb"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrfun.html#1b4394c5c1740ef3dc9e4224084970bb"><span class="id" title="notation">o</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#dyckword"><span class="id" title="projection">dyckword</span></a>) <a class="idref" href="Combi.Combi.Dyckword.html#DS"><span class="id" title="variable">DS</span></a>) <span class="id" title="notation">+</span> 2 <span class="id" title="notation">×</span> <span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#DS"><span class="id" title="variable">DS</span></a>)%<span class="id" title="var">N</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab24"></a><h2 class="section">Bijection with binary trees</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="BijBinTrees"><span class="id" title="section">BijBinTrees</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="Dyck_of_bintree"><span class="id" title="definition">Dyck_of_bintree</span></a> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Combi.Combi.Dyckword.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="Combi.Combi.bintree.html#BinNode"><span class="id" title="constructor">BinNode</span></a> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">[</span></a><a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">{{</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">(</span></a><a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bintree"><span class="id" title="definition">Dyck_of_bintree</span></a> <span class="id" title="var">l</span><a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">)</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">}}</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bintree"><span class="id" title="definition">Dyck_of_bintree</span></a> <span class="id" title="var">r</span><a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Combi.Combi.Dyckword.html#nil_Dyck"><span class="id" title="definition">nil_Dyck</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="bintree_of_Dyck_spec"><span class="id" title="lemma">bintree_of_Dyck_spec</span></a> <span class="id" title="var">D</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">{</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">:</span></a> <a class="idref" href="Combi.Combi.bintree.html#bintree"><span class="id" title="inductive">bintree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">|</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bintree"><span class="id" title="definition">Dyck_of_bintree</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">t'</span>, <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bintree"><span class="id" title="definition">Dyck_of_bintree</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="bintree_of_Dyck"><span class="id" title="definition">bintree_of_Dyck</span></a> <span class="id" title="var">D</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="Combi.Combi.Dyckword.html#bintree_of_Dyck_spec"><span class="id" title="lemma">bintree_of_Dyck_spec</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="bintree_of_DyckK"><span class="id" title="lemma">bintree_of_DyckK</span></a> <span class="id" title="var">D</span> : <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bintree"><span class="id" title="definition">Dyck_of_bintree</span></a> (<a class="idref" href="Combi.Combi.Dyckword.html#bintree_of_Dyck"><span class="id" title="definition">bintree_of_Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="bintree_of_nil_Dyck"><span class="id" title="lemma">bintree_of_nil_Dyck</span></a> : <a class="idref" href="Combi.Combi.Dyckword.html#bintree_of_Dyck"><span class="id" title="definition">bintree_of_Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#nil_Dyck"><span class="id" title="definition">nil_Dyck</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.bintree.html#BinLeaf"><span class="id" title="constructor">BinLeaf</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="bintree_of_join_Dyck"><span class="id" title="lemma">bintree_of_join_Dyck</span></a> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#bintree_of_Dyck"><span class="id" title="definition">bintree_of_Dyck</span></a> (<a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">[</span></a><a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">{{</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">}}</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D2"><span class="id" title="variable">D2</span></a><a class="idref" href="Combi.Combi.Dyckword.html#84af9443e4b3c7b7a58a9c32b3ef3a9b"><span class="id" title="notation">]</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.bintree.html#BinNode"><span class="id" title="constructor">BinNode</span></a> (<a class="idref" href="Combi.Combi.Dyckword.html#bintree_of_Dyck"><span class="id" title="definition">bintree_of_Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D1"><span class="id" title="variable">D1</span></a>) (<a class="idref" href="Combi.Combi.Dyckword.html#bintree_of_Dyck"><span class="id" title="definition">bintree_of_Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D2"><span class="id" title="variable">D2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="Dyck_of_bintreeK"><span class="id" title="lemma">Dyck_of_bintreeK</span></a> <span class="id" title="var">t</span> : <a class="idref" href="Combi.Combi.Dyckword.html#bintree_of_Dyck"><span class="id" title="definition">bintree_of_Dyck</span></a> (<a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bintree"><span class="id" title="definition">Dyck_of_bintree</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#t"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="size_Dyck_of_bintree"><span class="id" title="lemma">size_Dyck_of_bintree</span></a> <span class="id" title="var">t</span> :<br/>
&nbsp;&nbsp;(<span class="id" title="definition">size</span> (<a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bintree"><span class="id" title="definition">Dyck_of_bintree</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 2 <span class="id" title="notation">×</span> <span class="id" title="notation">(</span><a class="idref" href="Combi.Combi.bintree.html#size_tree"><span class="id" title="definition">size_tree</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#t"><span class="id" title="variable">t</span></a><span class="id" title="notation">)</span>)%<span class="id" title="var">N</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="size_bintree_of_Dyck"><span class="id" title="lemma">size_bintree_of_Dyck</span></a> <span class="id" title="var">D</span> :<br/>
&nbsp;&nbsp;(2 <span class="id" title="notation">×</span> <a class="idref" href="Combi.Combi.bintree.html#size_tree"><span class="id" title="definition">size_tree</span></a> (<a class="idref" href="Combi.Combi.Dyckword.html#bintree_of_Dyck"><span class="id" title="definition">bintree_of_Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a>)%<span class="id" title="var">N</span>.<br/>
 
<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Combi.Combi.Dyckword.html#BijBinTrees"><span class="id" title="section">BijBinTrees</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab25"></a><h1 class="section">Dyck and balanced words</h1>
<a name="lab26"></a><h2 class="section">Rotation map from balanced words to a Dyck words</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="BalToDyck"><span class="id" title="section">BalToDyck</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="BalToDyck.w"><span class="id" title="variable">w</span></a> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="minh"><span class="id" title="definition">minh</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">-</span> <span class="id" title="constructor">Posz</span> (<span class="id" title="notation">\</span><span class="id" title="notation">max_</span><span class="id" title="notation">(</span><span class="id" title="var">s</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Combi.Combi.Dyckword.html#prefixes"><span class="id" title="definition">prefixes</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><span class="id" title="abbreviation">count_mem</span> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="notation">-</span> <span class="id" title="abbreviation">count_mem</span> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#s"><span class="id" title="variable">s</span></a><span class="id" title="notation">)</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="minhE"><span class="id" title="lemma">minhE</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#minh"><span class="id" title="definition">minh</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">-</span> <span class="id" title="constructor">Posz</span> (<span class="id" title="notation">\</span><span class="id" title="notation">max_</span><span class="id" title="notation">(</span><span class="id" title="var">i</span> <span class="id" title="notation">&lt;</span> <span class="id" title="notation">(</span><span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a><span class="id" title="notation">).+1</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="abbreviation">count_mem</span> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>) <span class="id" title="notation">-</span> <span class="id" title="abbreviation">count_mem</span> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>)<span class="id" title="notation">)</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="minhP"><span class="id" title="lemma">minhP</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>) <span class="id" title="notation">≥</span> <a class="idref" href="Combi.Combi.Dyckword.html#minh"><span class="id" title="definition">minh</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="exists_minh"><span class="id" title="lemma">exists_minh</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>) <span class="id" title="notation">==</span> <a class="idref" href="Combi.Combi.Dyckword.html#minh"><span class="id" title="definition">minh</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="pfminh"><span class="id" title="definition">pfminh</span></a> := <span class="id" title="definition">ex_minn</span> <a class="idref" href="Combi.Combi.Dyckword.html#exists_minh"><span class="id" title="lemma">exists_minh</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pfminhP"><span class="id" title="lemma">pfminhP</span></a> : <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#pfminh"><span class="id" title="definition">pfminh</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#minh"><span class="id" title="definition">minh</span></a>.<br/>
 
<br/>
<span class="id" title="keyword">Lemma</span> <a name="pfminh_size"><span class="id" title="lemma">pfminh_size</span></a> : (<a class="idref" href="Combi.Combi.Dyckword.html#pfminh"><span class="id" title="definition">pfminh</span></a> <span class="id" title="notation">≤</span> <span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>)%<span class="id" title="var">N</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pfminh_min"><span class="id" title="lemma">pfminh_min</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, (<a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="Combi.Combi.Dyckword.html#pfminh"><span class="id" title="definition">pfminh</span></a>)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>) <span class="id" title="notation">&gt;</span> <a class="idref" href="Combi.Combi.Dyckword.html#minh"><span class="id" title="definition">minh</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pfminhE"><span class="id" title="lemma">pfminhE</span></a> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;(<a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">≤</span> <span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>) <span class="id" title="notation">≥</span> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, (<a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>) <span class="id" title="notation">&gt;</span> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#pfminh"><span class="id" title="definition">pfminh</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="BalToDyck.Hbal1"><span class="id" title="variable">Hbal1</span></a> : <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> -1.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="minh_neg"><span class="id" title="lemma">minh_neg</span></a> : <a class="idref" href="Combi.Combi.Dyckword.html#minh"><span class="id" title="definition">minh</span></a> <span class="id" title="notation">&lt;</span> 0.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pfminh_pos"><span class="id" title="lemma">pfminh_pos</span></a> : (<a class="idref" href="Combi.Combi.Dyckword.html#pfminh"><span class="id" title="definition">pfminh</span></a> <span class="id" title="notation">&gt;</span> 0)%<span class="id" title="var">N</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nth_pfminh"><span class="id" title="lemma">nth_pfminh</span></a> : <span class="id" title="definition">nth</span> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#pfminh"><span class="id" title="definition">pfminh</span></a><span class="id" title="notation">.-1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="last_rot_pfminh"><span class="id" title="lemma">last_rot_pfminh</span></a> : <span class="id" title="definition">last</span> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> (<span class="id" title="definition">rot</span> <a class="idref" href="Combi.Combi.Dyckword.html#pfminh"><span class="id" title="definition">pfminh</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="rot_pfminhE"><span class="id" title="lemma">rot_pfminhE</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="definition">rcons</span> (<span class="id" title="definition">take</span> <span class="id" title="notation">(</span><span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a><span class="id" title="notation">).-1</span> (<span class="id" title="definition">rot</span> <a class="idref" href="Combi.Combi.Dyckword.html#pfminh"><span class="id" title="definition">pfminh</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>)) <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">rot</span> <a class="idref" href="Combi.Combi.Dyckword.html#pfminh"><span class="id" title="definition">pfminh</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="rot_is_Dyck"><span class="id" title="lemma">rot_is_Dyck</span></a> : <span class="id" title="definition">take</span> <span class="id" title="notation">(</span><span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a><span class="id" title="notation">).-1</span> (<span class="id" title="definition">rot</span> <a class="idref" href="Combi.Combi.Dyckword.html#pfminh"><span class="id" title="definition">pfminh</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck.w"><span class="id" title="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Combi.Combi.Dyckword.html#BalToDyck"><span class="id" title="section">BalToDyck</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="DyckToBal"><span class="id" title="section">DyckToBal</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variables</span> (<a name="DyckToBal.w"><span class="id" title="variable">w</span></a> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a>) (<a name="DyckToBal.rt"><span class="id" title="variable">rt</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="DyckToBal.HDyck"><span class="id" title="variable">HDyck</span></a> : <a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal.w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a>.<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="DyckToBal.Hrt"><span class="id" title="variable">Hrt</span></a>: (<a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal.rt"><span class="id" title="variable">rt</span></a> <span class="id" title="notation">≤</span> <span class="id" title="notation">(</span><span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal.w"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span>)%<span class="id" title="var">N</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="rrw_bal1"><span class="id" title="lemma">rrw_bal1</span></a> : <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">rot</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal.rt"><span class="id" title="variable">rt</span></a> (<span class="id" title="definition">rcons</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal.w"><span class="id" title="variable">w</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> -1.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pfminh_rrw"><span class="id" title="lemma">pfminh_rrw</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#pfminh"><span class="id" title="definition">pfminh</span></a> (<span class="id" title="definition">rot</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal.rt"><span class="id" title="variable">rt</span></a> (<span class="id" title="definition">rcons</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal.w"><span class="id" title="variable">w</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> (<span class="id" title="notation">(</span><span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal.w"><span class="id" title="variable">w</span></a><span class="id" title="notation">).+1</span> <span class="id" title="notation">-</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal.rt"><span class="id" title="variable">rt</span></a>)%<span class="id" title="var">N</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="minh_rrw"><span class="id" title="lemma">minh_rrw</span></a> : <a class="idref" href="Combi.Combi.Dyckword.html#minh"><span class="id" title="definition">minh</span></a> (<span class="id" title="definition">rot</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal.rt"><span class="id" title="variable">rt</span></a> (<span class="id" title="definition">rcons</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal.w"><span class="id" title="variable">w</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">-</span> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<span class="id" title="definition">take</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal.rt"><span class="id" title="variable">rt</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal.w"><span class="id" title="variable">w</span></a>) <span class="id" title="notation">-</span> 1.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckToBal"><span class="id" title="section">DyckToBal</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab27"></a><h1 class="section">Catalan numbers</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="Catalan"><span class="id" title="definition">Catalan</span></a> <span class="id" title="var">n</span> := <span class="id" title="notation">'</span><span class="id" title="notation">C</span><span class="id" title="notation">(</span><a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.*2</span><span class="id" title="notation">,</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">%/</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.+1</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="Dyck_hsz"><span class="id" title="definition">Dyck_hsz</span></a> <span class="id" title="var">n</span> : <span class="id" title="notation">{</span><span class="id" title="notation">set</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.*2</span><span class="id" title="notation">.-</span><span class="id" title="notation">tuple</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a><span class="id" title="notation">}</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">w</span> <span class="id" title="notation">:</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.*2</span><span class="id" title="notation">.-</span><span class="id" title="notation">tuple</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a> <span class="id" title="notation">|</span> <span class="id" title="projection">tval</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a><span class="id" title="notation">]</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="bal_hsz"><span class="id" title="definition">bal_hsz</span></a> <span class="id" title="var">n</span> : <span class="id" title="notation">{</span><span class="id" title="notation">set</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.*2</span><span class="id" title="notation">.-</span><span class="id" title="notation">tuple</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a><span class="id" title="notation">}</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">w</span> <span class="id" title="notation">:</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.*2</span><span class="id" title="notation">.-</span><span class="id" title="notation">tuple</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a> <span class="id" title="notation">|</span> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <span class="id" title="notation">==</span> 0<span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="card_bintreesz_dyck"><span class="id" title="lemma">card_bintreesz_dyck</span></a> <span class="id" title="var">n</span> : <span class="id" title="notation">#|</span><a class="idref" href="Combi.Combi.bintree.html#bintreesz"><span class="id" title="record">bintreesz</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">#|</span><a class="idref" href="Combi.Combi.Dyckword.html#Dyck_hsz"><span class="id" title="definition">Dyck_hsz</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">|</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="count_mem_height0"><span class="id" title="lemma">count_mem_height0</span></a> <span class="id" title="var">n</span> (<span class="id" title="var">w</span> : <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.*2</span><span class="id" title="notation">.-</span><span class="id" title="notation">tuple</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a>) <span class="id" title="var">b</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="abbreviation">count_mem</span> <a class="idref" href="Combi.Combi.Dyckword.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="card_bal_hsz"><span class="id" title="lemma">card_bal_hsz</span></a> <span class="id" title="var">n</span> : <span class="id" title="notation">#|</span><a class="idref" href="Combi.Combi.Dyckword.html#bal_hsz"><span class="id" title="definition">bal_hsz</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">'</span><span class="id" title="notation">C</span><span class="id" title="notation">(</span><a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.*2</span><span class="id" title="notation">,</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab28"></a><h2 class="section">The rotation bijection</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="DyckWordRotationBijection"><span class="id" title="section">DyckWordRotationBijection</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="DyckWordRotationBijection.n"><span class="id" title="variable">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> <span class="id" title="var">D</span> : <a class="idref" href="Combi.Combi.Dyckword.html#DyckWordRotationBijection.n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.*2</span><span class="id" title="notation">.-</span><span class="id" title="notation">tuple</span> <a class="idref" href="Combi.Combi.Dyckword.html#brace"><span class="id" title="inductive">brace</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="size_UnDn"><span class="id" title="lemma">size_UnDn</span></a> : <span class="id" title="definition">size</span> (<span class="id" title="definition">nseq</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckWordRotationBijection.n"><span class="id" title="variable">n</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> <span class="id" title="notation">++</span> <span class="id" title="definition">nseq</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckWordRotationBijection.n"><span class="id" title="variable">n</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>) <span class="id" title="notation">==</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckWordRotationBijection.n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.*2</span>.<br/>
 <span class="id" title="keyword">Definition</span> <a name="UnDn"><span class="id" title="definition">UnDn</span></a> := <span class="id" title="constructor">Tuple</span> <a class="idref" href="Combi.Combi.Dyckword.html#size_UnDn"><span class="id" title="lemma">size_UnDn</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="UnDn_Dyck"><span class="id" title="lemma">UnDn_Dyck</span></a> : <span class="id" title="projection">tval</span> <a class="idref" href="Combi.Combi.Dyckword.html#UnDn"><span class="id" title="definition">UnDn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="size_UDn"><span class="id" title="lemma">size_UDn</span></a> : <span class="id" title="definition">size</span> (<span class="id" title="definition">flatten</span> (<span class="id" title="definition">nseq</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckWordRotationBijection.n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">[::</span> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a><span class="id" title="notation">;</span> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a><span class="id" title="notation">]</span>)) <span class="id" title="notation">==</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckWordRotationBijection.n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.*2</span>.<br/>
 <span class="id" title="keyword">Definition</span> <a name="UDn"><span class="id" title="definition">UDn</span></a> := <span class="id" title="constructor">Tuple</span> <a class="idref" href="Combi.Combi.Dyckword.html#size_UDn"><span class="id" title="lemma">size_UDn</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="UDn_Dyck"><span class="id" title="lemma">UDn_Dyck</span></a> : <span class="id" title="projection">tval</span> <a class="idref" href="Combi.Combi.Dyckword.html#UDn"><span class="id" title="definition">UDn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="size_Dyck_of_bal"><span class="id" title="lemma">size_Dyck_of_bal</span></a> <span class="id" title="var">w</span> :<br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<span class="id" title="definition">take</span> (<span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>) (<span class="id" title="definition">rot</span> (<a class="idref" href="Combi.Combi.Dyckword.html#pfminh"><span class="id" title="definition">pfminh</span></a> (<span class="id" title="definition">rcons</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>)) (<span class="id" title="definition">rcons</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>))) <span class="id" title="notation">==</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckWordRotationBijection.n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.*2</span>.<br/>
 <span class="id" title="keyword">Definition</span> <a name="Dyck_of_bal"><span class="id" title="definition">Dyck_of_bal</span></a> <span class="id" title="var">w</span> := <span class="id" title="constructor">Tuple</span> (<a class="idref" href="Combi.Combi.Dyckword.html#size_Dyck_of_bal"><span class="id" title="lemma">size_Dyck_of_bal</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Dyck_of_balP"><span class="id" title="lemma">Dyck_of_balP</span></a> <span class="id" title="var">w</span> : <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="projection">tval</span> (<a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bal"><span class="id" title="definition">Dyck_of_bal</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Dyck_of_Dyck_hsz"><span class="id" title="lemma">Dyck_of_Dyck_hsz</span></a> <span class="id" title="var">D</span> : <span class="id" title="projection">tval</span> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bal"><span class="id" title="definition">Dyck_of_bal</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="size_bal_of_Dyck"><span class="id" title="lemma">size_bal_of_Dyck</span></a> <span class="id" title="var">rt</span> <span class="id" title="var">w</span> :<br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<span class="id" title="definition">take</span> (<span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>) (<span class="id" title="definition">rotr</span> <a class="idref" href="Combi.Combi.Dyckword.html#rt"><span class="id" title="variable">rt</span></a> (<span class="id" title="definition">rcons</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>))) <span class="id" title="notation">==</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckWordRotationBijection.n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.*2</span>.<br/>
 <span class="id" title="keyword">Definition</span> <a name="bal_of_Dyck"><span class="id" title="definition">bal_of_Dyck</span></a> <span class="id" title="var">rt</span> <span class="id" title="var">w</span> := <span class="id" title="constructor">Tuple</span> (<a class="idref" href="Combi.Combi.Dyckword.html#size_bal_of_Dyck"><span class="id" title="lemma">size_bal_of_Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#rt"><span class="id" title="variable">rt</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="bal_of_DyckP"><span class="id" title="lemma">bal_of_DyckP</span></a> <span class="id" title="var">rt</span> <span class="id" title="var">w</span> :<br/>
&nbsp;&nbsp;(<a class="idref" href="Combi.Combi.Dyckword.html#rt"><span class="id" title="variable">rt</span></a> <span class="id" title="notation">≤</span> <span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">nth</span> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> (<span class="id" title="definition">rcons</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>) (<span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <span class="id" title="notation">-</span> <a class="idref" href="Combi.Combi.Dyckword.html#rt"><span class="id" title="variable">rt</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> (<a class="idref" href="Combi.Combi.Dyckword.html#bal_of_Dyck"><span class="id" title="definition">bal_of_Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#rt"><span class="id" title="variable">rt</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 0.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="rcons_bal_of_Dyck"><span class="id" title="lemma">rcons_bal_of_Dyck</span></a> <span class="id" title="var">w</span> <span class="id" title="var">k</span> :<br/>
&nbsp;&nbsp;(<a class="idref" href="Combi.Combi.Dyckword.html#k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">≤</span> <span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">nth</span> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> (<span class="id" title="definition">rcons</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>) (<span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <span class="id" title="notation">-</span> <a class="idref" href="Combi.Combi.Dyckword.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">rcons</span> (<a class="idref" href="Combi.Combi.Dyckword.html#bal_of_Dyck"><span class="id" title="definition">bal_of_Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>) <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">rotr</span> <a class="idref" href="Combi.Combi.Dyckword.html#k"><span class="id" title="variable">k</span></a> (<span class="id" title="definition">rcons</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="bal_of_DyckK"><span class="id" title="lemma">bal_of_DyckK</span></a> <span class="id" title="var">D</span> <span class="id" title="var">rt</span> :<br/>
&nbsp;&nbsp;(<a class="idref" href="Combi.Combi.Dyckword.html#rt"><span class="id" title="variable">rt</span></a> <span class="id" title="notation">≤</span> <span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a>)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">nth</span> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> (<span class="id" title="definition">rcons</span> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>) (<span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">-</span> <a class="idref" href="Combi.Combi.Dyckword.html#rt"><span class="id" title="variable">rt</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="projection">tval</span> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bal"><span class="id" title="definition">Dyck_of_bal</span></a> (<a class="idref" href="Combi.Combi.Dyckword.html#bal_of_Dyck"><span class="id" title="definition">bal_of_Dyck</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#rt"><span class="id" title="variable">rt</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Dyck_of_balK"><span class="id" title="lemma">Dyck_of_balK</span></a> <span class="id" title="var">w</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="Combi.Combi.Dyckword.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#bal_of_Dyck"><span class="id" title="definition">bal_of_Dyck</span></a> (<a class="idref" href="Combi.Combi.Dyckword.html#pfminh"><span class="id" title="definition">pfminh</span></a> (<span class="id" title="definition">rcons</span> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>)) (<a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bal"><span class="id" title="definition">Dyck_of_bal</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#w"><span class="id" title="variable">w</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="preim_Dyck_of_balE"><span class="id" title="lemma">preim_Dyck_of_balE</span></a> <span class="id" title="var">D</span> :<br/>
&nbsp;&nbsp;<span class="id" title="projection">tval</span> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="Combi.Combi.Dyckword.html#bal_hsz"><span class="id" title="definition">bal_hsz</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#DyckWordRotationBijection.n"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="notation">(</span><a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bal"><span class="id" title="definition">Dyck_of_bal</span></a> <span class="id" title="notation">@^-1:</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a><span class="id" title="notation">]</span><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">[</span> <span class="id" title="notation">set</span> <a class="idref" href="Combi.Combi.Dyckword.html#bal_of_Dyck"><span class="id" title="definition">bal_of_Dyck</span></a> (<span class="id" title="definition">nat_of_ord</span> <a class="idref" href="Combi.Combi.Dyckword.html#rt"><span class="id" title="variable">rt</span></a>) <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">|</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rt</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_</span><span class="id" title="notation">(</span><span class="id" title="notation">(</span><span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a><span class="id" title="notation">).+1</span><span class="id" title="notation">)</span> <span class="id" title="notation">&amp;</span> <span class="id" title="definition">nth</span> <a class="idref" href="Combi.Combi.Dyckword.html#5a1cd88ce4acf4e3c0463840b689af91"><span class="id" title="notation">{{</span></a> (<span class="id" title="definition">rcons</span> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a>) (<span class="id" title="definition">size</span> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">-</span> <a class="idref" href="Combi.Combi.Dyckword.html#rt"><span class="id" title="variable">rt</span></a>) <span class="id" title="notation">==</span> <a class="idref" href="Combi.Combi.Dyckword.html#5ac4254ed8a5d9fc56037a25cfb8b3a2"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="card_preim_Dyck_of_bal"><span class="id" title="lemma">card_preim_Dyck_of_bal</span></a> <span class="id" title="var">D</span> :<br/>
&nbsp;&nbsp;<span class="id" title="projection">tval</span> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.ssr.ssrbool.html#1e40fee506a85b20590ef299005b003d"><span class="id" title="notation">a</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Dyck_word"><span class="id" title="definition">Dyck_word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">#|</span><span class="id" title="notation">(</span><a class="idref" href="Combi.Combi.Dyckword.html#bal_hsz"><span class="id" title="definition">bal_hsz</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#DyckWordRotationBijection.n"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="notation">(</span><a class="idref" href="Combi.Combi.Dyckword.html#Dyck_of_bal"><span class="id" title="definition">Dyck_of_bal</span></a> <span class="id" title="notation">@^-1:</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <a class="idref" href="Combi.Combi.Dyckword.html#D"><span class="id" title="variable">D</span></a><span class="id" title="notation">]</span><span class="id" title="notation">)</span><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#DyckWordRotationBijection.n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.+1</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Combi.Combi.Dyckword.html#DyckWordRotationBijection"><span class="id" title="section">DyckWordRotationBijection</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab29"></a><h2 class="section">Main theorem for catalan numbers</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="card_bal_Dyck_hsz"><span class="id" title="lemma">card_bal_Dyck_hsz</span></a> <span class="id" title="var">n</span> : <span class="id" title="notation">#|</span><a class="idref" href="Combi.Combi.Dyckword.html#bal_hsz"><span class="id" title="definition">bal_hsz</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> (<span class="id" title="notation">#|</span><a class="idref" href="Combi.Combi.Dyckword.html#Dyck_hsz"><span class="id" title="definition">Dyck_hsz</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">|</span> <span class="id" title="notation">×</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.+1</span>)%<span class="id" title="var">N</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="div_central_binomial"><span class="id" title="lemma">div_central_binomial</span></a> <span class="id" title="var">n</span> : <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.+1</span> <span class="id" title="notation">%|</span> <span class="id" title="notation">'</span><span class="id" title="notation">C</span><span class="id" title="notation">(</span><a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.*2</span><span class="id" title="notation">,</span> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="card_Dyck_hsz"><span class="id" title="lemma">card_Dyck_hsz</span></a> <span class="id" title="var">n</span> : <span class="id" title="notation">#|</span><a class="idref" href="Combi.Combi.Dyckword.html#Dyck_hsz"><span class="id" title="definition">Dyck_hsz</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Catalan"><span class="id" title="definition">Catalan</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a>.<br/>
 
<br/>
<span class="id" title="keyword">Theorem</span> <a name="Catalan_binE"><span class="id" title="lemma">Catalan_binE</span></a> <span class="id" title="var">n</span> : <a class="idref" href="Combi.Combi.bintree.html#Catalan_bin"><span class="id" title="definition">Catalan_bin</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#Catalan"><span class="id" title="definition">Catalan</span></a> <a class="idref" href="Combi.Combi.Dyckword.html#n"><span class="id" title="variable">n</span></a>.<br/>
 </div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>